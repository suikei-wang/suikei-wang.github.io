(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([["async-settings-advanced-externalservices"],{"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/Advanced/screens/ExternalServices/ExternalServices.jsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var s=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var l=s(a("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var i=s(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=s(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=s(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var p=s(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var c=s(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=s(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=s(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var f=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var m=a("./src/main/webapp/universal/src/shared/i18n/react.ts");var v=s(a("./common/temp/node_modules/prop-types/index.js"));var g=r(a("./common/temp/node_modules/react/index.js"));var A=s(a("./common/temp/node_modules/lodash/isEqual.js"));var b=s(a("./src/main/webapp/universal/src/shared/utils/legacyCapitalize.js"));var h=s(a("./src/main/webapp/universal/src/apps/App/shared/actions/FrameActions.js"));var y=s(a("./src/main/webapp/universal/src/apps/App/shared/components/Panel/index.jsx"));var x=s(a("./src/main/webapp/universal/src/apps/App/shared/components/MenuHeader/index.jsx"));var T=a("./common/temp/node_modules/@sqs/fields/lib/index.js");var S=s(a("./src/main/webapp/universal/src/shared/constants/HelpLinks.js"));var j=s(a("./src/main/webapp/frontend/packages/enums/WebsiteType.js"));var C=s(a("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js"));var E=s(a("./src/main/webapp/universal/src/apps/App/shared/actions/WebsiteSettingsActions.js"));var I=s(a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteStore/index.js"));var w=s(a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteSettingsStore/index.js"));var O=s(a("./src/main/webapp/universal/src/shared/utils/responsiveWebAppOverrides.less"));function k(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));a.push.apply(a,r)}return a}function D(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?k(Object(a),true).forEach(function(e){(0,d.default)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function P(s){var n=_();return function e(){var t=(0,u.default)(s),a;if(n){var r=(0,u.default)(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return(0,c.default)(this,a)}}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var z=["amazonAssociateTag","googleAnalyticsId","captchaSettings","typekitId"];var W="https://www.google.com/recaptcha";var R={indexTitleExternalServices:(0,f.t)("External API Keys"),indexTitleGoogleAnalyticsAccountNumber:(0,f.t)("Google Analytics Account Number"),indexTitleAmazonAssociatesId:(0,f.t)("Amazon Associates ID"),indexTitleCaptchaConfig:(0,f.t)("Google reCAPTCHA"),indexTitleCaptchaConfigSiteKey:(0,f.t)("Site Key"),indexTitleCaptchaConfigSecret:(0,f.t)("Secret Key"),indexTitleTypekitId:(0,f.t)("Adobe Fonts Project ID")};var G=function(e){(0,p.default)(s,e);var r=P(s);function s(){var n;(0,i.default)(this,s);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n=r.call.apply(r,[this].concat(t));(0,d.default)((0,o.default)(n),"state",{amazonAssociateTag:n.props.amazonAssociateTag,googleAnalyticsId:n.props.googleAnalyticsId,captchaSettings:n.props.captchaSettings,typekitId:C.default.isSevenOne()?"":n.props.typekitId,errors:{}});(0,d.default)((0,o.default)(n),"isCoverPageApp",function(){return n.props.websiteType===j.default.COVER_PAGE});(0,d.default)((0,o.default)(n),"resetChanges",function(){n.setState({amazonAssociateTag:n.props.amazonAssociateTag,googleAnalyticsId:n.props.googleAnalyticsId,captchaSettings:n.props.captchaSettings,typekitId:n.props.typekitId,errors:{}});return Promise.resolve()});(0,d.default)((0,o.default)(n),"saveChanges",function(){var e=n.state,t=e.amazonAssociateTag,a=e.googleAnalyticsId,r=e.captchaSettings,s=e.typekitId;return Promise.all([I.default.save({googleAnalyticsId:a,captchaSettings:r,typekitId:s}),E.default.save(w.default.getMergedWebsiteSettings({amazonAssociateTag:t}))]).then(function(){h.default.refresh();return n.resetChanges()},function(e){n.setState({errors:e.data.errors});return Promise.reject()})});(0,d.default)((0,o.default)(n),"getIsDirty",function(){var t=n.props;var a=n.state;return z.map(function(e){return!(0,A.default)(t[e],a[e])}).some(function(e){return e})});(0,d.default)((0,o.default)(n),"linkState",function(r){return{onChange:function e(t){var a;n.setState((a={},(0,d.default)(a,r,t),(0,d.default)(a,"errors",(0,d.default)({},r,null)),a))},value:n.state[r],errorMessage:n.state.errors[r]}});(0,d.default)((0,o.default)(n),"renderGoogleAnalyticsId",function(){return g.default.createElement("div",null,g.default.createElement(T.Description,{title:R.indexTitleGoogleAnalyticsAccountNumber,wrapperClassName:O.default.fieldTitle}),g.default.createElement(T.Input,(0,l.default)({},n.linkState("googleAnalyticsId"),{placeholder:"UA-XXXXXX-Y",wrapperClassName:O.default.fieldInput})),g.default.createElement(T.Description,{wrapperClassName:O.default.fieldDescription},g.default.createElement(m.T,{googleAnalyticsLink:g.default.createElement("a",{href:S.default.GENERAL_GA,target:"_blank"},g.default.createElement(m.T,{project:"apps.App"},"Google Analytics Account Number")),project:"apps.App"},"Enter your {googleAnalyticsLink} to enable Google Analytics on your site.")))});(0,d.default)((0,o.default)(n),"renderAmazonAssociatesId",function(){if(n.isCoverPageApp())return null;return g.default.createElement("div",null,g.default.createElement(T.Description,{title:R.indexTitleAmazonAssociatesId,wrapperClassName:O.default.fieldTitle}),g.default.createElement(T.Input,(0,l.default)({},n.linkState("amazonAssociateTag"),{placeholder:"xxxxxxxx-20",wrapperClassName:O.default.fieldInput})),g.default.createElement(T.Description,{wrapperClassName:O.default.fieldDescription},g.default.createElement(m.T,{project:"apps.App"},"When adding Amazon items to your pages, entering your Amazon associates ID allows you to collect revenue for the items you sell.")))});(0,d.default)((0,o.default)(n),"renderGoogleReCaptchaConfig",function(){var e=function e(a){var r="captchaSettings".concat((0,b.default)(a));return{onChange:function e(t){n.setState({captchaSettings:D({},n.state.captchaSettings,(0,d.default)({},a,t)),errors:(0,d.default)({},r,null)})},value:n.state.captchaSettings[a],errorMessage:n.state.errors[r]}};return g.default.createElement("div",null,g.default.createElement(T.Description,{title:R.indexTitleCaptchaConfig},g.default.createElement(m.T,{learnMore:g.default.createElement("a",{href:S.default.GOOGLE_RECAPTCHA_API_KEYS,target:"_blank"},g.default.createElement(m.T,{project:"apps.App"},"Learn More")),googleReCaptchaWebsite:g.default.createElement("a",{href:W,target:"_blank",rel:"noopener"},g.default.createElement(m.T,{project:"apps.App"},"Google reCAPTCHA API keys")),project:"apps.App"},"Add your {googleReCaptchaWebsite} so you can turn on reCAPTCHA verification for your newsletter blocks, promotional pop-ups, and forms. {learnMore}")),g.default.createElement(T.Input,(0,l.default)({},e("siteKey"),{placeholder:Array(24).join("x"),label:R.indexTitleCaptchaConfigSiteKey})),g.default.createElement(T.Input,(0,l.default)({},e("secretKey"),{placeholder:Array(24).join("x"),label:R.indexTitleCaptchaConfigSecret})))});(0,d.default)((0,o.default)(n),"renderTypekitId",function(){return g.default.createElement("div",null,g.default.createElement(T.Description,{title:R.indexTitleTypekitId,wrapperClassName:O.default.fieldTitle}),g.default.createElement(T.Input,(0,l.default)({},n.linkState("typekitId"),{placeholder:"xxxxxxxx",wrapperClassName:O.default.fieldInput})),g.default.createElement(T.Description,{wrapperClassName:O.default.fieldDescription},g.default.createElement(m.T,{learnMore:g.default.createElement("a",{href:S.default.GENERAL_TYPEKIT},g.default.createElement(m.T,{project:"apps.App"},"Learn more")),project:"apps.App"},"Enter your Adobe Fonts Project ID to enable custom fonts on your site. {learnMore}")))});return n}(0,n.default)(s,[{key:"render",value:function e(){var t=this.getIsDirty();return g.default.createElement(y.default,null,g.default.createElement(x.default,{isDirty:t,onDiscardClick:this.resetChanges,onSaveClick:this.saveChanges}),g.default.createElement(y.default.Header,{title:R.indexTitleExternalServices}),this.renderGoogleAnalyticsId(),this.renderAmazonAssociatesId(),this.renderGoogleReCaptchaConfig(),!C.default.isSevenOne()&&this.renderTypekitId())}}]);return s}(g.Component);t.default=G;(0,d.default)(G,"propTypes",{amazonAssociateTag:v.default.string,googleAnalyticsId:v.default.string,captchaSettings:v.default.object,typekitId:v.default.string,websiteType:v.default.oneOf(Object.values(j.default)).isRequired});(0,d.default)(G,"defaultProps",{amazonAssociateTag:"",captchaSettings:{siteKey:"",secretKey:"",enabledForDonations:false},googleAnalyticsId:"",typekitId:""});e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/Advanced/screens/ExternalServices/index.jsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(a("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var n=r(a("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/Advanced/screens/ExternalServices/ExternalServices.jsx"));var o=r(a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteStore/index.js"));var p=r(a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteSettingsStore/index.js"));var l=(0,s.default)({getStores:function e(){return[p.default,o.default]},getPropsFromStores:function e(){var t=o.default.getState().toJS(),a=t.googleAnalyticsId,r=t.websiteType,s=t.captchaSettings,n=t.typekitId;var l=p.default.getState(),i=l.amazonAssociateTag;return{amazonAssociateTag:i,googleAnalyticsId:a,captchaSettings:s,websiteType:r,typekitId:n}}},n.default);t.default=l;e.exports=t.default},"./src/main/webapp/universal/src/shared/utils/legacyCapitalize.js":function(e,t,a){"use strict";var r=function e(t){return t.charAt(0).toUpperCase()+t.slice(1)};e.exports=r},"./src/main/webapp/universal/src/shared/utils/responsiveWebAppOverrides.less":function(e,t,a){e.exports={fieldTitle:"responsiveWebAppOverrides-fieldTitle-4IlT_",fieldDescription:"responsiveWebAppOverrides-fieldDescription-2Y43J",fieldInput:"responsiveWebAppOverrides-fieldInput-1zHD5",fieldSelect:"responsiveWebAppOverrides-fieldSelect-BuDDf",fieldTextArea:"responsiveWebAppOverrides-fieldTextArea-2r_qs",editor:"responsiveWebAppOverrides-editor-1XXjK",panelDescriptionText:"responsiveWebAppOverrides-panelDescriptionText-36c0O"}}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/async-settings-advanced-externalservices-5f07cf34b536b1b13bd3c-min.en-US.js.map