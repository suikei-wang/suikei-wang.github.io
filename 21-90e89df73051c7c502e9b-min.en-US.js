(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([[21],{"./src/main/webapp/frontend/packages/enums/AccountStates.js":function(e,t){var n={ACTIVE:1,UNAUTHORIZED:2};e.exports=n},"./src/main/webapp/frontend/packages/enums/PinterestDomainVerificationState.js":function(e,t){var n={NONE:1,PENDING:2,PROCESSED:3,SUCCEEDED:4,FAILED:5,USER_PROFILE_CONFIG_PROBLEM:6};e.exports=n},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/components/AccountDialog.less":function(e,t,n){e.exports={body:"AccountDialog-body-3izgx",jsfPanel:"AccountDialog-jsfPanel-3_rh2",jsfAnimatedPanel:"AccountDialog-jsfAnimatedPanel-3rQv3",jsfPanelContainer:"AccountDialog-jsfPanelContainer-3E_s4",headerDescription:"AccountDialog-headerDescription-yBHBw",jsfScrollContainer:"AccountDialog-jsfScrollContainer-2Zibg"}},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/components/ConnectedAccountListItem.jsx":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var c=a(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var i=a(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var l=a(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=a(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var r=a(n("./common/temp/node_modules/prop-types/index.js"));var p=a(n("./common/temp/node_modules/react/index.js"));var m=a(n("./common/temp/node_modules/classnames/index.js"));var f=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var h=n("./src/main/webapp/universal/src/shared/i18n/react.ts");var v=n("./src/main/webapp/frontend/packages/enums/AccountStates.js");var g=n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/utils/SocialAuthenticatorUtils.js");var b=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/ConnectedAccountsActions.js"));var A=a(n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/constants/ConnectedAccountPropType.js"));var y=n("./src/main/webapp/universal/src/shared/utils/UrlUtils.js");var C=a(n("./src/main/webapp/frontend/packages/enums/ExternalServiceProviders.js"));var S=n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/constants/ServiceConfig.js");var E=a(n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/components/ConnectedAccountListItem.less"));function I(s){var r=k();return function e(){var t=(0,u.default)(s),n;if(r){var a=(0,u.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,l.default)(this,n)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var w=function(e){(0,i.default)(r,e);var a=I(r);function r(){var s;(0,o.default)(this,r);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s=a.call.apply(a,[this].concat(t));(0,d.default)((0,c.default)(s),"isUnauthorized",function(e){return e.accountState===v.UNAUTHORIZED});(0,d.default)((0,c.default)(s),"handleReauthenticate",function(e){var t=s.props.account,n=t.id,a=t.serviceName;e.stopPropagation();b.default.authenticate(a,{existingAccountId:n})});return s}(0,s.default)(r,[{key:"getDisplayName",value:function e(){var t=this.props.account,n=t.serviceId,a=t.screenname;var s=(0,g.getConfiguration)(n);return s.displayName||a}},{key:"getIconUrl",value:function e(){var t=this.props.account.iconUrl;return(0,y.securifyURL)(t)}},{key:"getName",value:function e(){var t=this.props,n=t.account,a=t.type;if("icon"===a&&!(n.serviceId===C.default.EMAIL||n.serviceId===C.default.CHOWNOW))return n.profileUrl?n.profileUrl.replace(new RegExp("^https?://(www.)?"),""):(0,f.t)("Invalid Url");return n.screenname}},{key:"getType",value:function e(){var t=this.props,n=t.account,a=t.type;if("icon"===a)return n.iconEnabled?(0,f.t)("Visible"):(0,f.t)("Hidden");var s=[];n.pushEnabled&&S.SERVICE_CONFIGURATION[n.serviceId].capabilities.PUSH?s.push((0,f.t)("Push Enabled")):S.SERVICE_CONFIGURATION[n.serviceId].capabilities.PUSH&&s.push((0,f.t)("Push Disabled"));n.pullEnabled&&S.SERVICE_CONFIGURATION[n.serviceId].capabilities.PULL?s.push((0,f.t)("Pull Enabled")):S.SERVICE_CONFIGURATION[n.serviceId].capabilities.PULL&&s.push((0,f.t)("Pull Disabled"));0===s.length&&s.push((0,f.t)("Connected"));return s.join(", ")}},{key:"render",value:function e(){var t=this.props,n=t.onItemClick,a=t.className,s=t.account,r=t.detail,o=t.reorderable;var c=this.isUnauthorized(s);var i=(0,m.default)(E.default.container,a);return p.default.createElement("div",{className:i,onClick:function e(){return n(s.id)}},o&&p.default.createElement("div",{className:E.default.reorderIndicator}),p.default.createElement("div",{className:(0,m.default)(E.default.image,E.default[s.serviceName])}),p.default.createElement("div",{className:E.default.info},p.default.createElement("div",{className:E.default.name},this.getName()),p.default.createElement("div",{className:E.default.service},p.default.createElement("span",null,this.getType()))),r&&p.default.createElement("div",{className:E.default.detail},r),c&&p.default.createElement("div",{className:E.default.unauthorizedMessage},p.default.createElement(h.T,{unauthorized:p.default.createElement("strong",null,p.default.createElement(h.T,{project:"apps.App"},"Unauthorized")),reauthenticate:p.default.createElement("a",{className:E.default.warning,onClick:this.handleReauthenticate},p.default.createElement(h.T,{project:"apps.App"},"reauthenticate")),project:"apps.App"},"{unauthorized} — Remove or {reauthenticate} this account for continued usage.")))}}]);return r}(p.default.PureComponent);(0,d.default)(w,"propTypes",{onItemClick:r.default.func,account:A.default,detail:r.default.oneOfType([r.default.element,r.default.node]),type:r.default.oneOf(["icon","oauth"]),reorderable:r.default.bool});var O=w;t.default=O;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/components/ConnectedAccountListItem.less":function(e,t,n){e.exports={search:"ConnectedAccountListItem-search-wwj-B",add:"ConnectedAccountListItem-add-346WU",clear:"ConnectedAccountListItem-clear-1MmPG",clearLight:"ConnectedAccountListItem-clearLight-2MnsA",trash:"ConnectedAccountListItem-trash-2jdix",trashLight:"ConnectedAccountListItem-trashLight-2RMkB",check:"ConnectedAccountListItem-check-1b90b",checkDark:"ConnectedAccountListItem-checkDark-1xYMD",checkAfter:"ConnectedAccountListItem-checkAfter-buUIk",checkDarkAfter:"ConnectedAccountListItem-checkDarkAfter-29UVW",checkDarkSmallAfter:"ConnectedAccountListItem-checkDarkSmallAfter-2xJ4R",checkDarkBefore:"ConnectedAccountListItem-checkDarkBefore-1VbWJ",aureusCheck:"ConnectedAccountListItem-aureusCheck-PVkOu",upload:"ConnectedAccountListItem-upload-22ZmX",avatar:"ConnectedAccountListItem-avatar-poT0m",gearSmall:"ConnectedAccountListItem-gearSmall-2YRV-",pencilSmall:"ConnectedAccountListItem-pencilSmall-xNQ3r",trashSmall:"ConnectedAccountListItem-trashSmall-3P076",chevronLight:"ConnectedAccountListItem-chevronLight-11ZH1",chevronRight:"ConnectedAccountListItem-chevronRight-D-etM",chevronDark:"ConnectedAccountListItem-chevronDark-2fqV-",circleLogoDark:"ConnectedAccountListItem-circleLogoDark-2FC_a",gettyLogo:"ConnectedAccountListItem-gettyLogo-3zh-M",gettyIconLight:"ConnectedAccountListItem-gettyIconLight-3KrnR",chevronUpDark:"ConnectedAccountListItem-chevronUpDark-25jU-",chevronDownDark:"ConnectedAccountListItem-chevronDownDark-4oV9X",arrowDark:"ConnectedAccountListItem-arrowDark-x_0nz",file:"ConnectedAccountListItem-file-3Jw1H",shoppingCart:"ConnectedAccountListItem-shoppingCart-vkuMY",squarespace:"ConnectedAccountListItem-squarespace-1Wsgf",zoomin:"ConnectedAccountListItem-zoomin-3dZLc",zoomout:"ConnectedAccountListItem-zoomout-2JJkp",squarespaceLight:"ConnectedAccountListItem-squarespaceLight-nx9C3",container:"ConnectedAccountListItem-container-214Pp",reorderIndicator:"ConnectedAccountListItem-reorderIndicator-3I8kO",image:"ConnectedAccountListItem-image-34cwG",facebook:"ConnectedAccountListItem-facebook-2_25I","facebook-unauth":"ConnectedAccountListItem-facebook-unauth-UyPeK",twitter:"ConnectedAccountListItem-twitter-2HG6S","twitter-unauth":"ConnectedAccountListItem-twitter-unauth-3WCZS",googlesearchconsole:"ConnectedAccountListItem-googlesearchconsole-3wWxV",tumblr:"ConnectedAccountListItem-tumblr-2ZdiM","tumblr-unauth":"ConnectedAccountListItem-tumblr-unauth-DlPMI",dropbox2017:"ConnectedAccountListItem-dropbox2017-HiZ2m",foursquare:"ConnectedAccountListItem-foursquare-1-KKq","foursquare-unauth":"ConnectedAccountListItem-foursquare-unauth-1DSuz",instagram:"ConnectedAccountListItem-instagram-2t3QH","instagram-unauth":"ConnectedAccountListItem-instagram-unauth-1h-CT",flickr:"ConnectedAccountListItem-flickr-2kcOy","flickr-unauth":"ConnectedAccountListItem-flickr-unauth-3Ztr8",youtube:"ConnectedAccountListItem-youtube-2skxA","youtube-unauth":"ConnectedAccountListItem-youtube-unauth-2ld_B",vimeo:"ConnectedAccountListItem-vimeo-u-WVQ","vimeo-unauth":"ConnectedAccountListItem-vimeo-unauth-1RtBs",linkedin:"ConnectedAccountListItem-linkedin-2Fc-c","linkedin-unauth":"ConnectedAccountListItem-linkedin-unauth-Q0-SM",dribbble:"ConnectedAccountListItem-dribbble-Nysxe",pinterest:"ConnectedAccountListItem-pinterest-idCoB","pinterest-unauth":"ConnectedAccountListItem-pinterest-unauth-3jCPG",smugmug:"ConnectedAccountListItem-smugmug-xy_T3","smugmug-unauth":"ConnectedAccountListItem-smugmug-unauth-hRa7L",fivehundredpix:"ConnectedAccountListItem-fivehundredpix-rfqYt","fivehundredpix-unauth":"ConnectedAccountListItem-fivehundredpix-unauth-24fdM",email:"ConnectedAccountListItem-email-21lo0",github:"ConnectedAccountListItem-github-1LH8T","github-unauth":"ConnectedAccountListItem-github-unauth-wggZO",soundcloud:"ConnectedAccountListItem-soundcloud-2LyYk","soundcloud-unauth":"ConnectedAccountListItem-soundcloud-unauth-2lBJN",spotify:"ConnectedAccountListItem-spotify-1LyB3","spotify-unauth":"ConnectedAccountListItem-spotify-unauth-3SK5p",googleplay:"ConnectedAccountListItem-googleplay-2irpz",itunes:"ConnectedAccountListItem-itunes-2uW0u",bandsintown:"ConnectedAccountListItem-bandsintown-34bAb",behance:"ConnectedAccountListItem-behance-3vNAs",codepen:"ConnectedAccountListItem-codepen-33KDB",medium:"ConnectedAccountListItem-medium-3R7un",meetup:"ConnectedAccountListItem-meetup-2y5TH",rdio:"ConnectedAccountListItem-rdio-344k9",twitch:"ConnectedAccountListItem-twitch-qC-s1",url:"ConnectedAccountListItem-url-1DHeh",vevo:"ConnectedAccountListItem-vevo-2aMSL",vine:"ConnectedAccountListItem-vine-wLYq3",vsco:"ConnectedAccountListItem-vsco-1Hct3",yelp:"ConnectedAccountListItem-yelp-3oN3r",houzz:"ConnectedAccountListItem-houzz-2QVr_",reddit:"ConnectedAccountListItem-reddit-Ixal0",stumbleupon:"ConnectedAccountListItem-stumbleupon-2tU27",chownow:"ConnectedAccountListItem-chownow-3sGE2",snapchat:"ConnectedAccountListItem-snapchat-3RwcR",imdb:"ConnectedAccountListItem-imdb-2WmJM",goodreads:"ConnectedAccountListItem-goodreads-2krd9",stitcher:"ConnectedAccountListItem-stitcher-2oyIq",tidal:"ConnectedAccountListItem-tidal-4EOvQ",applepodcast:"ConnectedAccountListItem-applepodcast-2i3VJ",thedots:"ConnectedAccountListItem-thedots-1pYf9",tripadvisor:"ConnectedAccountListItem-tripadvisor-3GTWo",info:"ConnectedAccountListItem-info-3x60P",name:"ConnectedAccountListItem-name-11keR",unauthorizedMessage:"ConnectedAccountListItem-unauthorizedMessage-1V04f",warning:"ConnectedAccountListItem-warning-1_nWe",detail:"ConnectedAccountListItem-detail-8tZk9",description:"ConnectedAccountListItem-description-2eXBO",service:"ConnectedAccountListItem-service-1NDig"}},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/components/ConnectedAccountsList.jsx":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var c=a(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var i=a(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var l=a(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=a(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var s=a(n("./common/temp/node_modules/prop-types/index.js"));var p=a(n("./common/temp/node_modules/react/index.js"));var m=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var f=n("./src/main/webapp/universal/src/shared/i18n/react.ts");var h=a(n("./common/temp/node_modules/classnames/index.js"));var v=n("./common/temp/node_modules/@sqs/fields/lib/index.js");var g=a(n("./src/main/webapp/frontend/packages/enums/ExternalServiceProviders.js"));var b=a(n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/components/ConnectedAccountListItem.jsx"));var A=a(n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/constants/ConnectedAccountPropType.js"));var y=a(n("./src/main/webapp/universal/src/shared/components/ReorderableGroup/index.jsx"));var C=n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/utils/SocialAuthenticatorUtils.js");var S=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteStore/index.js"));var E=a(n("./src/main/webapp/universal/src/apps/App/shared/utils/SocialAuthenticatorAPI.js"));var I=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/ContentCollectionActions.js"));var k=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/AppNotificationsActions.js"));var w=a(n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/components/ConnectedAccountsList.less"));function O(s){var r=j();return function e(){var t=(0,u.default)(s),n;if(r){var a=(0,u.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,l.default)(this,n)}}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var L=new Set([g.default.DROPBOX,g.default.DROPBOX2,g.default.DROPBOX2017]);var _=function(e){(0,i.default)(s,e);var a=O(s);function s(){var o;(0,r.default)(this,s);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o=a.call.apply(a,[this].concat(t));(0,d.default)((0,c.default)(o),"state",{isLoading:false});(0,d.default)((0,c.default)(o),"onReorder",function(e,t){var n=o.props.saveDisplayOrder;var a=t.map(function(e){return e.id});n(a)});(0,d.default)((0,c.default)(o),"handleItemClick",function(e){var t=o.props,n=t.connectedAccounts,a=t.editAccount;var s=(0,C.getExistingAccount)(e,n);a(s)});(0,d.default)((0,c.default)(o),"handleDropboxPublishClick",function(e){e.stopPropagation();o.setState({isLoading:true});k.default.notifyCard({title:(0,m.t)("Syncing with Dropbox…"),body:(0,m.t)("Publishing Dropbox content to Squarespace")},{dismissAfterTime:false});E.default.syncDropbox().then(function(e){var t={created:e.data.createdCollections,deleted:e.data.removedCollections,updated:e.data.updatedCollections};var n=[];for(var a in t){if(!t[a]||0===t[a].length)break;n.push((0,m.pluralize)({one:"{%n} collection {action}",other:"{%n} collections {action}"},t[a].length,{action:a}))}var s;s=0===n.length?(0,m.t)("There were no new changes."):p.default.createElement("div",{style:{whiteSpace:"pre-line"}},n.join(",\n")+".");t.deleted.forEach(function(e){return I.default.delete(e.id)});k.default.notifyCard({title:(0,m.t)("Dropbox Publish Complete"),body:s},{dismissAfterTime:5500});o.setState({isLoading:false})}).catch(function(e){k.default.notifyCard({title:(0,m.t)("Sync Failed"),body:e.data.message||(0,m.t)("An Error Occured")});o.setState({isLoading:false})})});(0,d.default)((0,c.default)(o),"handleSmugMugImportClick",function(e,t){var n=o.props.showSmugMugSyncDialog;t.stopPropagation();n(e)});(0,d.default)((0,c.default)(o),"getListItemDetail",function(n){var e=n.serviceId;if(L.has(e)){var t=S.default.getState().get("identifier");return p.default.createElement(p.default.Fragment,null,p.default.createElement(v.Button,{onClick:o.handleDropboxPublishClick,isDisabled:o.state.isLoading},p.default.createElement(f.T,{project:"apps.App"},"Publish to Squarespace")),p.default.createElement(f.T,{uploadPath:p.default.createElement("strong",null,"/Apps/Squarespace/",t,"/"),project:"apps.App"},"Your Dropbox account is now connected to Squarespace. Place folders for collections and pages in the {uploadPath} directory in order to have them published to your site."))}if(e===g.default.SMUGMUG)return p.default.createElement(v.Button,{onClick:function e(t){return o.handleSmugMugImportClick(n,t)}},p.default.createElement(f.T,{project:"apps.App"},"Import Albums to Squarespace"))});(0,d.default)((0,c.default)(o),"renderItem",function(e,t,n,a){var s=o.props.showOAuthOnly;var r=(0,h.default)(t,w.default.proxy,(0,d.default)({},w.default.hidden,n&&n.isDragging));return p.default.createElement(b.default,{className:r,key:e.id,onItemClick:o.handleItemClick,account:e,detail:o.getListItemDetail(e),type:s?"oauth":"icon",reorderable:!s})});return o}(0,o.default)(s,[{key:"render",value:function e(){var t=this;var n=this.props,a=n.connectedAccounts,s=n.socialAccountDisplayOrder,r=n.showOAuthOnly,o=n.showSocialLinksOnly;var c=(0,C.filterConnectedAccounts)(a,{showSocialLinksOnly:o,showOAuthOnly:r});if(c.length>0){var i=(0,C.sortConnectedAccounts)(c,s);if(r)return p.default.createElement(p.default.Fragment,null,i.map(function(e){return t.renderItem(e)}));return p.default.createElement(y.default,{groupName:"connectedAccounts",childItems:i,childItemRenderer:this.renderItem,getChildKeyFromItem:function e(t){return t.id},onReorder:r?function(){}:this.onReorder})}return null}}]);return s}(p.default.Component);(0,d.default)(_,"propTypes",{connectedAccounts:s.default.arrayOf(A.default),socialAccountDisplayOrder:s.default.arrayOf(s.default.string),saveDisplayOrder:s.default.func,editAccount:s.default.func,showSmugMugSyncDialog:s.default.func,showOAuthOnly:s.default.bool,showSocialLinksOnly:s.default.bool});(0,d.default)(_,"defaultProps",{connectedAccounts:[],showOAuthOnly:false,showSocialLinksOnly:false,socialAccountDisplayOrder:[]});var D=_;t.default=D;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/components/ConnectedAccountsList.less":function(e,t,n){e.exports={hidden:"ConnectedAccountsList-hidden--xGiC",proxy:"ConnectedAccountsList-proxy-3t1RE"}},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/components/ServiceSettingsDialog.jsx":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=t.ServiceSettingsDialog=void 0;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var c=a(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var i=a(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var l=a(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=a(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var m=a(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var s=a(n("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var f=a(n("./common/temp/node_modules/react/index.js"));var d=a(n("./common/temp/node_modules/prop-types/index.js"));var h=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var v=n("./src/main/webapp/universal/src/shared/i18n/react.ts");var g=a(n("./common/temp/node_modules/lodash/isEmpty.js"));var b=a(n("./src/main/webapp/universal/src/shared/utils/analytics/trackInternal.ts"));var A=a(n("./src/main/webapp/universal/src/shared/utils/Keyboard.js"));var y=n("./common/temp/node_modules/@sqs/jsf-fields/lib/es/main.js");var C=a(n("./src/main/webapp/universal/src/shared/components/Form/index.js"));var S=n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/utils/ServiceSettingsUtils.js");var E=n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/utils/SocialAuthenticatorUtils.js");var I=a(n("./src/main/webapp/frontend/packages/enums/ExternalServiceProviders.js"));var k=a(n("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js"));var w=a(n("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var O=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/AppNotificationsActions.js"));var j=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/AuthenticatedAccountStore.js"));var L=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/ConnectedAccountsActions.js"));var _=a(n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/constants/ConnectedAccountPropType.js"));var D=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteStore/index.js"));var U=n("./common/temp/node_modules/@sqs/styles/variables/baseDamask.js");var T=n("./common/temp/node_modules/@sqs/fields/lib/index.js");var P=a(n("./src/main/webapp/universal/src/apps/App/shared/components/StructuredInput.jsx"));var N=a(n("./src/main/webapp/universal/src/shared/components/Modal/index.jsx"));var R=a(n("./src/main/webapp/universal/src/shared/components/ReviewChangesConfirmation.jsx"));var x=a(n("./src/main/webapp/universal/src/shared/components/Confirmation.jsx"));var q=n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/constants/ServiceConfig.js");var M=n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/constants/unauthAccountMappings.js");var H=a(n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/components/AccountDialog.less"));function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),true).forEach(function(e){(0,p.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function G(s){var r=$();return function e(){var t=(0,u.default)(s),n;if(r){var a=(0,u.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,l.default)(this,n)}}function $(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var V={keyword:"minLength"};var W=function e(t){var n=t.label,a=(0,s.default)(t,["label"]);return f.default.createElement(T.Check,(0,m.default)({},a,{title:n}))};var z=function e(t){var n=t.label,a=(0,s.default)(t,["label"]);return f.default.createElement(T.Description,(0,m.default)({},a,{title:n}))};var K=function(e){(0,i.default)(s,e);var a=G(s);function s(){var d;(0,r.default)(this,s);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];d=a.call.apply(a,[this].concat(t));(0,p.default)((0,c.default)(d),"state",{value:{},uiSchema:null,schema:null,isReviewConfirmationOpen:false,isDisconnectConfirmationOpen:false,isDisconnecting:false,isDirty:false});(0,p.default)((0,c.default)(d),"customFields",{description:z,check:W,select:T.Select,string:function e(t){return d.bindEnterKeyHandler(T.Input,t)},"structured-input":function e(t){return d.bindEnterKeyHandler(P.default,t)}});(0,p.default)((0,c.default)(d),"handleModalClose",function(){var e=d.props.onRequestClose;var t=d.state.isDirty;t?d.setState({isReviewConfirmationOpen:true}):e()});(0,p.default)((0,c.default)(d),"handleModalDidOpen",function(){var e=d.props,t=e.account,n=e.baseUrl,a=e.accountDisplayName,s=e.showSocialLinkOptionsOnly,r=e.showConnectedAccountOptionsOnly;var o=(0,E.getConfiguration)(t.serviceId);t.serviceId===I.default.EMAIL?o.screennameLabel=(0,h.t)("Email Address"):o.screennameLabel=(0,h.t)("Label");t.dialogType=q.SERVICE_CONFIGURATION[t.serviceId].dialogType;t.forceSimpleDialog=s;t.forceConnectedAccountOnly=r;var c=(0,S.getServiceSettingsSchemas)(t,"".concat(n,"/blog-post"),a,s),i=c.uiSchema,l=c.schema;var u={};d.props.showSocialLinkOptionsOnly&&(u.account={profileUrl:""===t.profileUrl?V:null,userName:""===t.userName?V:null});d.setState({formValidationErrors:u,uiSchema:i,schema:l,value:{config:o,account:t,errors:{}}})});(0,p.default)((0,c.default)(d),"handleConfirmationCancel",function(){d.setState({isReviewConfirmationOpen:false})});(0,p.default)((0,c.default)(d),"handleConfirmationReject",function(){var e=d.props.onRequestClose;d.setState({isReviewConfirmationOpen:false});e()});(0,p.default)((0,c.default)(d),"handleConfirmationSave",function(){d.setState({isReviewConfirmationOpen:false});d.handleAccountSave()});(0,p.default)((0,c.default)(d),"closeDisconnectConfirmationModal",function(){var e=d.props.account.serviceName;(0,b.default)("interface_click",{identifier:"connected-account-disconnect-cancel",serviceName:e});d.setState({isDisconnectConfirmationOpen:false})});(0,p.default)((0,c.default)(d),"disconnectAccount",function(){var e=d.props,t=e.account,n=e.onRequestClose,a=e.showSocialLinkOptionsOnly,s=e.trackingLocation;var r=t.serviceName;(0,b.default)("interface_click",{identifier:"connected-account-disconnect-confirm",serviceName:r});a?k.default.socialLinksAddRemove("delete",t.serviceId,s,t.profileUrl):k.default.connectedAccountsAddRemove("delete",t.serviceId);M.authAccountMappings[t.serviceId]&&t.iconEnabled&&!a?L.default.updateConnectedAccount(F({},t,{pushEnabled:false,pullEnabled:false,serviceId:M.authAccountMappings[t.serviceId]})).then(function(){d.setState({isDisconnecting:false},n)}):a&&(M.authAccountMappings[t.serviceId]||t.serviceId===I.default.CHOWNOW)?L.default.updateConnectedAccount(F({},t,{iconEnabled:false})).then(function(){d.setState({isDisconnecting:false},n)}):L.default.removeConnectedAccount(t.id).then(function(){d.setState({isDisconnecting:false},n)});d.setState({isDisconnectConfirmationOpen:false,isDisconnecting:true})});(0,p.default)((0,c.default)(d),"handleAccountDisconnect",function(e){var t=d.props.account.serviceName;e.preventDefault();(0,b.default)("interface_click",{identifier:"connected-account-disconnect",serviceName:t});d.setState({isDisconnectConfirmationOpen:true})});(0,p.default)((0,c.default)(d),"resetSubscription",function(){var e=d.props.account,t=e.id,n=e.serviceId;L.default.resetSubscription(t);O.default.notifyCard({title:(0,h.t)("Account Reset"),body:(0,h.t)("Your connected account has been reset. Blocks that use {social} are being populated with the latest activity. This may take a few minutes.",{social:q.SERVICE_CONFIGURATION[n].displayName})})});(0,p.default)((0,c.default)(d),"handleKeyUp",function(e){A.default.isEnterKey(e)&&d.handleAccountSave()});(0,p.default)((0,c.default)(d),"bindEnterKeyHandler",function(e,t){return f.default.createElement(e,(0,m.default)({},t,{onKeyUp:d.handleKeyUp}))});(0,p.default)((0,c.default)(d),"handleError",function(e){d.setState({formValidationErrors:e.default})});(0,p.default)((0,c.default)(d),"handleChange",function(e){var t=e.changes;var n=t.default,a=n.diff,s=n.value;var r=d.state.value.errors;for(var o in a){var c=o.split("/").pop();r[c]&&(r[c]=null)}d.props.showSocialLinkOptionsOnly&&s.account&&s.account.profileUrl&&(s.account.profileUrl=(0,E.formatProfileUrl)(s.account.profileUrl));d.setState({isDirty:true,value:Object.assign({},s,{errors:r})})});(0,p.default)((0,c.default)(d),"handleAccountSave",function(){var e=d.props.onRequestClose;var t=d.state.value;var n=d.getFormErrors();var a=Object.values(n).some(function(e){return e});if(a)d.setState({value:Object.assign({},t,{errors:n})});else{L.default.updateConnectedAccount(t.account);d.setState({isDirty:false});e()}});(0,p.default)((0,c.default)(d),"accountIsPullable",function(e){return(0,E.serviceHasCapability)(e,"PULL")});return d}(0,o.default)(s,[{key:"getFormErrors",value:function e(){var t=this.state.formValidationErrors;var n={};if(!t)return n;var a=t.account;for(var s in a)n[s]=(0,E.getErrorMessage)(a[s]);return n}},{key:"render",value:function e(){var t=this.props,n=t.isModalOpen,a=t.account,s=t.showSocialLinkOptionsOnly;var r=this.state,o=r.isReviewConfirmationOpen,c=r.isDisconnectConfirmationOpen,i=r.isDisconnecting,l=r.value,u=r.uiSchema,d=r.schema;return f.default.createElement("div",null,f.default.createElement(N.default,{isOpen:n,onAfterOpen:this.handleModalDidOpen,onRequestClose:this.handleModalClose,width:s?20*U.GRID_PX:27*U.GRID_PX},f.default.createElement(N.default.Header,null,(0,S.getDialogName)(a.serviceId)),f.default.createElement(N.default.Body,{className:H.default.body},!(0,g.default)(l)&&f.default.createElement(C.default,{configurations:{default:{errors:this.state.formValidationErrors,schema:d,uiSchema:u,value:l}},components:F({group:y.group,hidden:y.hidden},this.customFields),onChange:this.handleChange,onError:this.handleError,relativeHeight:true,renderHeader:function e(){return null}})),f.default.createElement(N.default.Footer,null,f.default.createElement(N.default.Button,{onClick:this.handleModalClose},f.default.createElement(v.T,{project:"apps.App"},"Cancel")),f.default.createElement(N.default.Button,{onClick:this.handleAccountDisconnect,type:"caution",disabled:i},!s&&f.default.createElement(v.T,{project:"apps.App"},"Disconnect"),s&&f.default.createElement(v.T,{project:"apps.App"},"Remove")),this.accountIsPullable(a.serviceId)&&!s&&f.default.createElement(N.default.Button,{onClick:this.resetSubscription},f.default.createElement(v.T,{project:"apps.App"},"Reset Data")),f.default.createElement(N.default.Button,{onClick:this.handleAccountSave},f.default.createElement(v.T,{project:"apps.App"},"Save")))),f.default.createElement(R.default,{isOpen:o,onCancel:this.handleConfirmationCancel,onDiscard:this.handleConfirmationReject,onSave:this.handleConfirmationSave}),f.default.createElement(x.default,{confirmText:(0,h.t)("Confirm"),isOpen:c,onCancel:this.closeDisconnectConfirmationModal,onConfirm:this.disconnectAccount,title:s?(0,h.t)("Remove Link"):(0,h.t)("Disconnect Account")},!s&&f.default.createElement(v.T,{project:"apps.App"},"Are you sure you want to disconnect this account?"),s&&f.default.createElement(v.T,{project:"apps.App"},"Are you sure you want to remove this link?")))}}]);return s}(f.default.Component);t.ServiceSettingsDialog=K;(0,p.default)(K,"propTypes",{account:_.default,isModalOpen:d.default.bool,onRequestClose:d.default.func,baseUrl:d.default.string,accountDisplayName:d.default.string,showSocialLinkOptionsOnly:d.default.bool,showConnectedAccountOptionsOnly:d.default.bool,trackingLocation:d.default.oneOf(["social_links","cover_page_social_links","social_links_block_editor"])});var Y=(0,w.default)({getStores:function e(t){return[j.default,D.default]},getPropsFromStores:function e(t){var n=D.default.getState(),a=n.baseUrl;var s=j.default.getState().toJS(),r=s.displayName;return{baseUrl:a,accountDisplayName:r}}},K);t.default=Y},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/constants/ConnectedAccountPropType.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=a(n("./common/temp/node_modules/prop-types/index.js"));var r=s.default.shape({accountState:s.default.number,addedOn:s.default.number,autoPushEnabled:s.default.bool,collectionId:s.default.string,defaultPushMessage:s.default.string,iconEnabled:s.default.bool,iconUrl:s.default.string,id:s.default.string,profileUrl:s.default.string,pullEnabled:s.default.bool,pushEnabled:s.default.bool,screenname:s.default.string,serviceId:s.default.number,serviceName:s.default.string,userId:s.default.string,userName:s.default.string,websiteId:s.default.string,metaData:s.default.object});t.default=r;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/constants/serviceSettingsSchema.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.getUISchema=c;t.getSchema=i;var s=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var r=a(n("./src/main/webapp/frontend/packages/enums/ExternalServiceProviders.js"));var o=n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/constants/ServiceConfig.js");function c(e,t){return[{type:"string",properties:{label:(0,s.t)("Profile URL"),placeholder:(0,s.t)("https://…"),errorMessage:{$data:"#/errors/profileUrl"},hasErrors:{$data:"#/errors/profileUrl"}},$mapping:"#/account/profileUrl",$conditional:{$if:{anyOf:[{"#/account/serviceId":{eq:r.default.EMAIL}},{"#/account/forceConnectedAccountOnly":{eq:true}},{allOf:[{"#/account/serviceId":{eq:r.default.CHOWNOW}},{"#/account/iconEnabled":{eq:true}}]}]},$then:{type:"hidden"}}},{type:"description",properties:{children:(0,s.t)("Enter the URL to your profile. Social icons on the site will link to this.")},$conditional:{$if:{anyOf:[{"#/account/serviceId":{eq:r.default.EMAIL}},{"#/account/forceConnectedAccountOnly":{eq:true}}]},$then:{type:"hidden"}}},{type:"string",properties:{label:{$data:"#/config/screennameLabel"},errorMessage:{$data:"#/errors/screenname"},hasErrors:{$data:"#/errors/screenname"}},$mapping:"#/account/screenname",$conditional:{$if:{anyOf:[{"#/config/useOAuth":{eq:true}},{"#/config/dialogType":{eq:o.DIALOG_TYPE.PROFILE}},{allOf:[{"#/config/dialogType":{eq:o.DIALOG_TYPE.USERNAME}},{"#/account/serviceId":{ne:r.default.EMAIL}}]}]},$then:{type:"hidden"}},$sideEffects:{switch:[{$if:{"#/account/serviceId":{eq:r.default.EMAIL}},$then:{set:{"#/account/profileUrl":"#/account/screenname"}}}]}},{type:"structured-input",properties:{label:(0,s.t)("Default Posting Format"),placeholder:"%t %u",variables:{"%t":{title:(0,s.t)("Title"),description:(0,s.t)("The title of this post."),exampleText:(0,s.t)("New Post Title")},"%a":{title:(0,s.t)("Author"),description:(0,s.t)("The author of this post."),exampleText:t},"%u":{title:(0,s.t)("URL"),description:(0,s.t)("The URL to this post."),exampleText:e}}},$mapping:"#/account/defaultPushMessage",$conditional:{$if:{anyOf:[{"#/config/capabilities/PUSH":{exists:false}},{"#/account/forceSimpleDialog":{eq:true}}]},$then:{type:"hidden"}}},{type:"description",properties:{children:(0,s.t)("When posting to this service from Squarespace, this will be the default message format used.")},$conditional:{$if:{anyOf:[{"#/config/capabilities/PUSH":{exists:false}},{"#/account/forceSimpleDialog":{eq:true}}]},$then:{type:"hidden"}}},{type:"check",properties:{label:(0,s.t)("Show Push Option"),children:(0,s.t)("When posting on Squarespace, show this account as a cross-publishing option.")},$mapping:"#/account/pushEnabled",$conditional:{$if:{anyOf:[{"#/config/capabilities/PUSH":{exists:false}},{"#/account/forceSimpleDialog":{eq:true}}]},$then:{type:"hidden"}}},{type:"check",properties:{label:(0,s.t)("Show Social Icon"),children:(0,s.t)("Most templates have built-in social icons, but you can also display icons anywhere on your site using the Social Links Block.")},$mapping:"#/account/iconEnabled",$conditional:{$if:{anyOf:[{"#/config/capabilities/ICON":{exists:false}},{"#/config/useOAuth":{eq:true}},{"#/account/serviceId":{eq:r.default.CHOWNOW}}]},$then:{type:"hidden"}}},{type:"check",properties:{label:(0,s.t)("Download Data"),children:(0,s.t)("When new items are posted to this account, download them to Squarespace for publishing on your site.")},$mapping:"#/account/pullEnabled",$conditional:{$if:{anyOf:[{"#/config/capabilities/PULL":{exists:false}},{"#/account/forceSimpleDialog":{eq:true}}]},$then:{type:"hidden"}}}]}function i(){return{type:"object",properties:{config:{type:"object",properties:{capabilities:{type:"object",properties:{PUSH:{type:"boolean"},PULL:{type:"boolean"},ICON:{type:"boolean"}}},screennameLabel:{type:"string"}}},account:{type:"object",properties:{serviceId:{type:"number"},iconEnabled:{type:"boolean"},pullEnabled:{type:"boolean"},pushEnabled:{type:"boolean"},defaultPushMessage:{type:"string"},profileUrl:{type:"string",minLength:1,format:"uri"},userName:{type:"string",minLength:1},screenname:{type:"string",minLength:1},metaData:{type:"object"}}},errors:{type:"object"}}}}},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/constants/unauthAccountMappings.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.authAccountMappings=t.default=void 0;var s=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var r=a(n("./src/main/webapp/frontend/packages/enums/ExternalServiceProviders.js"));var o=a(n("./common/temp/node_modules/lodash/invert.js"));var c;var i=(c={},(0,s.default)(c,r.default.FACEBOOK_UNAUTH,r.default.FACEBOOK),(0,s.default)(c,r.default.FIVEHUNDREDPIX_UNAUTH,r.default.FIVEHUNDREDPIX),(0,s.default)(c,r.default.FLICKR_UNAUTH,r.default.FLICKR),(0,s.default)(c,r.default.FOURSQUARE_UNAUTH,r.default.FOURSQUARE),(0,s.default)(c,r.default.GITHUB_UNAUTH,r.default.GITHUB),(0,s.default)(c,r.default.INSTAGRAM_UNAUTH,r.default.INSTAGRAM),(0,s.default)(c,r.default.LINKEDIN_UNAUTH,r.default.LINKEDIN),(0,s.default)(c,r.default.PINTEREST_UNAUTH,r.default.PINTEREST),(0,s.default)(c,r.default.SOUNDCLOUD_UNAUTH,r.default.SOUNDCLOUD),(0,s.default)(c,r.default.SPOTIFY_UNAUTH,r.default.SPOTIFY),(0,s.default)(c,r.default.TUMBLR_UNAUTH,r.default.TUMBLR),(0,s.default)(c,r.default.TWITTER_UNAUTH,r.default.TWITTER),(0,s.default)(c,r.default.VIMEO_UNAUTH,r.default.VIMEO),(0,s.default)(c,r.default.YOUTUBE_UNAUTH,r.default.YOUTUBE),(0,s.default)(c,r.default.SMUGMUG_UNAUTH,r.default.SMUGMUG),c);var l=i;t.default=l;var u=(0,o.default)(i);t.authAccountMappings=u},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/utils/ServiceSettingsUtils.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.getDialogName=I;t.getServiceSettingsSchemas=w;var s=a(n("./common/temp/node_modules/react/index.js"));var r=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var o=n("./src/main/webapp/universal/src/shared/i18n/react.ts");var c=a(n("./common/temp/node_modules/lodash/merge.js"));var i=n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/constants/serviceSettingsSchema.js");var l=n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/utils/SocialAuthenticatorUtils.js");var u=a(n("./src/main/webapp/frontend/packages/enums/ExternalServiceProviders.js"));var d=a(n("./src/main/webapp/frontend/packages/enums/PinterestDomainVerificationState.js"));var p=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteStore/index.js"));var m=n("./src/main/webapp/universal/src/shared/utils/EmailUtils.js");var f=n("./src/main/webapp/universal/src/shared/constants/HelpLinks.js");var h=a(n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/components/AccountDialog.less"));var v="https://www.chownow.com/lp/squarespace?utm_source=squarespace&utm_medium=squarespace_UI&utm_campaign=squarespace_referral";function g(e,t){if(t){var n=[s.default.createElement("option",{key:"default",value:""},(0,r.t)("Select Board…"))].concat(t.boardConnections.map(function(e){return s.default.createElement("option",{key:e.id,value:e.id},(0,r.t)("{boardName} (Board)",{boardName:e.name}))}));var a=[{$if:{"#/account/metaData/selectedBoardId":{eq:""}},$then:{set:t.boardConnections.reduce(function(e,t,n){e["#/account/metaData/boardConnections/".concat(n,"/selected")]=false;return e},{})}}].concat(t.boardConnections.map(function(a,e){return{$if:{"#/account/metaData/selectedBoardId":{eq:a.id}},$then:{set:t.boardConnections.reduce(function(e,t,n){e["#/account/metaData/boardConnections/".concat(n,"/selected")]=t.id===a.id;return e},{})}}}));e.push({type:"select",title:(0,r.t)("Push Target"),properties:{defaultValue:"",children:n},$mapping:"#/account/metaData/selectedBoardId",$sideEffects:{switch:a}},{type:"description",properties:{children:(0,r.t)("Select the board to which Pins will be pushed. Blog posts and products must have thumbnail images to display on Pinterest.")}},{type:"description",properties:{children:(0,r.t)("If you don't yet have a board you can create one on Pinterest and reconnect your account. If you don't set a board, you won't be able to push content to Pinterest.")}});switch(t.domainVerificationStatus){case d.default.FAILED:case d.default.PROCESSED:e.push({type:"description",title:s.default.createElement(o.T,{project:"apps.App",key:"description-title"},"Reconnect account"),properties:{children:s.default.createElement(o.T,{project:"apps.App",key:"description-body"},"Please reconnect your Pinterest account to enable Pinterest Analytics for your website.")}});break;case d.default.USER_PROFILE_CONFIG_PROBLEM:e.push({type:"description",properties:{children:s.default.createElement(o.T,{status:s.default.createElement("b",null,s.default.createElement(o.T,{project:"apps.App"},"Verification of your website's domain with Pinterest failed.")),project:"apps.App"},"{status} Please ensure the website you have configured in your Pinterest profile matches your Squarespace website's domain. Reconnect your Pinterest account to attempt verification again.")}});break;case d.default.NONE:case d.default.PENDING:e.push({type:"description",properties:{children:(0,r.t)("Your website is being verified by Pinterest to enable Pinterest Analytics for your website. Please check back later.")}});break;case d.default.SUCCEEDED:e.push({type:"description",title:s.default.createElement(o.T,{project:"apps.App",key:"description-title"},"Pinterest Analytics Activated"),properties:{children:s.default.createElement(o.T,{project:"apps.App",key:"description-body",analytics:s.default.createElement("a",{href:"https://analytics.pinterest.com/domain",target:"_blank"},s.default.createElement(o.T,{project:"apps.App"},"Pinterest Analytics"))},"You can now see what people are Pinning from your site. Visit {analytics}.")}});break}}else e.push({type:"description",title:s.default.createElement(o.T,{project:"apps.App",key:"description-title"},"Reconnect account"),properties:{children:s.default.createElement(o.T,{project:"apps.App",key:"description-body"},"Please reconnect your Pinterest account to enable Pinterest Analytics for your website.")}});return e}function b(e,t){if((0,l.hasPushTargets)(u.default.FACEBOOK,t)){var n=[s.default.createElement("option",{key:"default",value:""},(0,r.t)("None selected"))].concat(t.managedPages.map(function(e){return s.default.createElement("option",{key:e.id,value:e.id},e.name)}));var a=[{$if:{"#/account/metaData/selectedPageId":{eq:""}},$then:{set:t.managedPages.reduce(function(e,t,n){e["#/account/metaData/managedPages/".concat(n,"/selected")]=false;return e},{})}}].concat(t.managedPages.map(function(a,e){return{$if:{"#/account/metaData/selectedPageId":{eq:a.id}},$then:{set:t.managedPages.reduce(function(e,t,n){e["#/account/metaData/managedPages/".concat(n,"/selected")]=t.id===a.id;return e},{})}}}));e.push({type:"select",title:(0,r.t)("Push Target"),properties:{defaultValue:"",placeholder:"",children:n},$mapping:"#/account/metaData/selectedPageId",$sideEffects:{switch:a}},{type:"description",properties:{children:(0,r.t)("Select the page to which posts will be pushed. Posts will be published on behalf of the page.")}})}else e.push({type:"description",title:s.default.createElement(o.T,{project:"apps.App",key:"description-title"},"Reconnect to Enable Push Targets"),properties:{children:[s.default.createElement(o.T,{project:"apps.App",key:"description-body"},"If you have a Facebook Page, please reconnect your Facebook account to enable pushing to your account."),s.default.createElement("span",null," "),s.default.createElement("a",{href:f.FACEBOOK_PUSH,target:"_blank"},s.default.createElement(o.T,{project:"apps.ia-missing-required"},"Learn more"))]}});return e}function A(e,t){e.splice(1);if(t){var n=t.blogs.map(function(e){return s.default.createElement("option",{key:e.name,value:e.name},e.title||e.name)});var a=t.blogs.map(function(a,e){return{$if:{"#/account/metaData/primaryBlog":{eq:a.name}},$then:{set:t.blogs.reduce(function(e,t,n){e["#/account/metaData/blogs/".concat(n,"/primary")]=t.name===a.name;return e},{})}}});e.push({type:"select",title:(0,r.t)("Primary Blog"),properties:{children:n},$mapping:"#/account/metaData/primaryBlog",$sideEffects:{switch:a}},{type:"description",properties:{children:(0,r.t)("Select the blog content will be pushed to.")}})}return e}function y(e,t){var n=p.default.getState().get("identifier");e=[{type:"description",title:s.default.createElement(o.T,{project:"apps.App",key:"description-title"},"Dropbox Connection Activated"),properties:{children:s.default.createElement(o.T,{project:"apps.App",key:"description-body"},"Your Squarespace account is connected to your Dropbox account. Pressing the publish button from the previous screen will let you synchronize your content into Squarespace."),wrapperClassName:h.default.headerDescription}},{type:"description",title:s.default.createElement(o.T,{project:"apps.App",key:"description-title"},"Instructions"),properties:{key:"instructions",children:s.default.createElement("div",null,s.default.createElement("p",{key:"description-body-1"},s.default.createElement(o.T,{squarespace:s.default.createElement("strong",null,s.default.createElement(o.T,{project:"apps.App"},"Squarespace")),appsDirectory:s.default.createElement("strong",null,s.default.createElement(o.T,{project:"apps.App"},"Apps")),websiteIdentifier:s.default.createElement("strong",null,n),project:"apps.App"},"After you have connected your account to Dropbox, a {squarespace} folder will appear in the {appsDirectory} directory of your Dropbox account. To publish files to Squarespace, within our directory, create a folder called {websiteIdentifier} (the name of your site), and then create a sub-folder for each collection you would like to create on your Squarespace site.")),s.default.createElement("p",{key:"description-body-2"},s.default.createElement(o.T,{exampleDropboxDirectory:s.default.createElement("strong",null,s.default.createElement("span",{key:"dropboxDirectoryPrefix"},"/Apps/Squarespace/",n,"/"),s.default.createElement(o.T,{project:"apps.App",key:"dropboxDirectoryExample"},"Test Images")),testImages:s.default.createElement("strong",null,s.default.createElement(o.T,{project:"apps.App"},"Test Images")),project:"apps.App"},'For instance, creating a folder with images at {exampleDropboxDirectory} would create a corresponding collection called {testImages} on Squarespace, and your images would be automatically transferred to that collection. If you want a specific file to be ignored by Squarespace just prefix the file name with underscrore ("_").')),s.default.createElement("p",{key:"description-body-3"},s.default.createElement(o.T,{project:"apps.App"},"Squarespace for Dropbox currently only supports images.")),s.default.createElement("p",{key:"description-body-4"},s.default.createElement(o.T,{publishButtonText:s.default.createElement("strong",null,s.default.createElement(o.T,{project:"apps.App"},"Publish to Squarespace")),project:"apps.App"},"Please note that you must press the {publishButtonText} button from the main Connected Accounts panel to push changes from Dropbox to Squarespace — they will not be automatically uploaded.")))}}];return e}function C(e,t){e.splice(1);e.splice(0,0,{type:"description",properties:{children:s.default.createElement(o.T,{signupLink:s.default.createElement("a",{href:v,target:"_blank"},s.default.createElement(o.T,{project:"apps.App"},"sign up here")),learnMore:s.default.createElement("a",{href:f.CHOWNOW,target:"_blank"},s.default.createElement(o.T,{project:"apps.App"},"Learn more")),project:"apps.App"},"Enter your ChowNow Company ID to connect it to Squarespace and accept orders online. If you don’t have a ChowNow account yet, {signupLink}. {learnMore}")}},{type:"string",title:(0,r.t)("ChowNow Company ID"),properties:{errorMessage:{$data:"#/errors/userName"},hasErrors:{$data:"#/errors/userName"}},$mapping:"#/account/userName"});return e}function S(e){e=[{type:"description",properties:{children:s.default.createElement(o.T,{googleSearchConsole:s.default.createElement("a",{href:"https://www.google.com/webmasters/tools/home",target:"_blank"},s.default.createElement(o.T,{project:"apps.App"},"Google Search Console")),project:"apps.App"},"{googleSearchConsole} is an integration with Google that helps you monitor and maintain your site's presence in Google Search results.")}},{type:"description",properties:{children:(0,r.t)("By disconnecting, you will no longer receive Google Search Console data within the Analytics panel.")}}];return e}function E(e){delete e.properties.account.properties.profileUrl.format;return(0,c.default)({},e,{properties:{account:{properties:{screenname:{format:"email",pattern:m.EMAIL_PATTERN}}}}})}function I(e){return(0,r.t)("{name} Settings",{name:(0,l.getConfiguration)(e).displayName})}function k(e,t,n,a){var s=(0,i.getUISchema)(t,n);switch(e.serviceId){case u.default.PINTEREST:if(a)return s;return g(s,e.metaData);case u.default.FACEBOOK:if(a)return s;return b(s,e.metaData);case u.default.TUMBLR:if(a)return s;return A(s,e.metaData);case u.default.DROPBOX:case u.default.DROPBOX2:case u.default.DROPBOX2017:return y(s,e.metaData);case u.default.CHOWNOW:return C(s,e.metaData);case u.default.GOOGLESEARCHCONSOLE:return S(s);default:return s}}function w(e,t,n,a){var s=e.serviceId===u.default.EMAIL;return{uiSchema:k(e,t,n,a),schema:s?E((0,i.getSchema)()):(0,i.getSchema)()}}},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/SocialLinks/SocialIconAccounts.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var c=a(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var i=a(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var l=a(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=a(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var r=a(n("./common/temp/node_modules/prop-types/index.js"));var p=a(n("./common/temp/node_modules/react/index.js"));var m=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/ConnectedAccountsActions.js"));var f=a(n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/constants/ConnectedAccountPropType.js"));var h=a(n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/components/ConnectedAccountsList.jsx"));var v=a(n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/components/ServiceSettingsDialog.jsx"));var g=a(n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/SocialLinks/SocialLinkInput.js"));var b=a(n("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var A=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/ConnectedAccountsStore.js"));var y=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteSettingsStore/index.js"));function C(s){var r=S();return function e(){var t=(0,u.default)(s),n;if(r){var a=(0,u.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,l.default)(this,n)}}function S(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var E=function(e){(0,i.default)(r,e);var a=C(r);function r(){var s;(0,o.default)(this,r);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s=a.call.apply(a,[this].concat(t));(0,d.default)((0,c.default)(s),"state",{config:{},existingAccount:void 0,isServiceSettingsDialogOpen:false});(0,d.default)((0,c.default)(s),"handleServiceSettingsDialogClose",function(){s.setState({isServiceSettingsDialogOpen:false,existingAccount:null})});(0,d.default)((0,c.default)(s),"handleSaveDisplayOrder",function(e){m.default.saveDisplayOrder(e)});(0,d.default)((0,c.default)(s),"showEditorForExistingAccount",function(e){s.setState({existingAccount:e,isServiceSettingsDialogOpen:true})});(0,d.default)((0,c.default)(s),"renderServiceSettingsDialog",function(){var e=s.state,t=e.existingAccount,n=e.isServiceSettingsDialogOpen;var a=s.props.trackingLocation;if(n&&t)return p.default.createElement(v.default,{isModalOpen:n,account:t,onRequestClose:s.handleServiceSettingsDialogClose,trackingLocation:a,showSocialLinkOptionsOnly:true})});return s}(0,s.default)(r,[{key:"render",value:function e(){var t=this.props,n=t.connectedAccounts,a=t.socialAccountDisplayOrder,s=t.trackingLocation;return p.default.createElement(p.default.Fragment,null,p.default.createElement(h.default,{saveDisplayOrder:this.handleSaveDisplayOrder,connectedAccounts:n,socialAccountDisplayOrder:a,editAccount:this.showEditorForExistingAccount,showSmugMugSyncDialog:this.showSmugMugSyncDialog,showSocialLinksOnly:true}),p.default.createElement(g.default,{trackingLocation:s}),this.renderServiceSettingsDialog())}}]);return r}(p.default.Component);(0,d.default)(E,"propTypes",{connectedAccounts:r.default.arrayOf(f.default),socialAccountDisplayOrder:r.default.arrayOf(r.default.string),trackingLocation:r.default.string});var I=(0,b.default)({getStores:function e(t){return[A.default,y.default]},getPropsFromStores:function e(t){var n=A.default.getState(),a=n.connectedAccounts;var s=y.default.getState(),r=s.socialAccountDisplayOrder;return{connectedAccounts:a,socialAccountDisplayOrder:r}}},E);var k=I;t.default=k;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/SocialLinks/SocialIconImages.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var r=a(n("./src/main/webapp/frontend/packages/enums/ExternalServiceProviders.js"));var o=a(n("./common/temp/node_modules/@sqs/styles/images/damask/applepodcast-32-dark.png"));var c=a(n("./common/temp/node_modules/@sqs/styles/images/damask/bandsintown-32-dark.png"));var i=a(n("./common/temp/node_modules/@sqs/styles/images/damask/behance-32.png"));var l=a(n("./common/temp/node_modules/@sqs/styles/images/damask/codepen-32.png"));var u=a(n("./common/temp/node_modules/@sqs/styles/images/damask/dribbble-32-dark.png"));var d=a(n("./common/temp/node_modules/@sqs/styles/images/damask/email-32-dark.png"));var p=a(n("./common/temp/node_modules/@sqs/styles/images/damask/facebook-32-dark.png"));var m=a(n("./common/temp/node_modules/@sqs/styles/images/damask/500px-32-dark.png"));var f=a(n("./common/temp/node_modules/@sqs/styles/images/damask/flickr-32-dark.png"));var h=a(n("./common/temp/node_modules/@sqs/styles/images/damask/foursquare-32-dark.png"));var v=a(n("./common/temp/node_modules/@sqs/styles/images/damask/github-32-dark.png"));var g=a(n("./common/temp/node_modules/@sqs/styles/images/damask/goodreads-32-dark.png"));var b=a(n("./common/temp/node_modules/@sqs/styles/images/damask/googleplay-32-dark.png"));var A=a(n("./common/temp/node_modules/@sqs/styles/images/damask/houzz-32-dark.png"));var y=a(n("./common/temp/node_modules/@sqs/styles/images/damask/imdb-32-dark.png"));var C=a(n("./common/temp/node_modules/@sqs/styles/images/damask/instagram-32-dark.png"));var S=a(n("./common/temp/node_modules/@sqs/styles/images/damask/itunes-32-dark.png"));var E=a(n("./common/temp/node_modules/@sqs/styles/images/damask/linkedin-32-dark.png"));var I=a(n("./common/temp/node_modules/@sqs/styles/images/damask/medium-32-dark.png"));var k=a(n("./common/temp/node_modules/@sqs/styles/images/damask/meetup-32.png"));var w=a(n("./common/temp/node_modules/@sqs/styles/images/damask/pinterest-32-dark.png"));var O=a(n("./common/temp/node_modules/@sqs/styles/images/damask/rdio-32.png"));var j=a(n("./common/temp/node_modules/@sqs/styles/images/damask/reddit-32-dark.png"));var L=a(n("./common/temp/node_modules/@sqs/styles/images/damask/smugmug-32-dark.png"));var _=a(n("./common/temp/node_modules/@sqs/styles/images/damask/snapchat-32-dark.png"));var D=a(n("./common/temp/node_modules/@sqs/styles/images/damask/soundcloud-32-dark.png"));var U=a(n("./common/temp/node_modules/@sqs/styles/images/damask/spotify-32-dark.png"));var T=a(n("./common/temp/node_modules/@sqs/styles/images/damask/stitcher-32-dark.png"));var P=a(n("./common/temp/node_modules/@sqs/styles/images/damask/thedots-32-dark.png"));var N=a(n("./common/temp/node_modules/@sqs/styles/images/damask/tidal-32-dark.png"));var R=a(n("./common/temp/node_modules/@sqs/styles/images/damask/tripadvisor-32-dark.png"));var x=a(n("./common/temp/node_modules/@sqs/styles/images/damask/tumblr-32-dark.png"));var q=a(n("./common/temp/node_modules/@sqs/styles/images/damask/twitter-32-dark.png"));var M=a(n("./common/temp/node_modules/@sqs/styles/images/damask/twitch-32.png"));var H=a(n("./common/temp/node_modules/@sqs/styles/images/damask/url-32-dark.png"));var B=a(n("./common/temp/node_modules/@sqs/styles/images/damask/vevo-32.png"));var F=a(n("./common/temp/node_modules/@sqs/styles/images/damask/vimeo-32-dark.png"));var G=a(n("./common/temp/node_modules/@sqs/styles/images/damask/vsco-32-dark.png"));var $=a(n("./common/temp/node_modules/@sqs/styles/images/damask/yelp-32.png"));var V=a(n("./common/temp/node_modules/@sqs/styles/images/damask/youtube-32-dark.png"));var W;var z=(W={},(0,s.default)(W,r.default.APPLEPODCAST,o.default),(0,s.default)(W,r.default.BANDSINTOWN,c.default),(0,s.default)(W,r.default.BEHANCE,i.default),(0,s.default)(W,r.default.CODEPEN,l.default),(0,s.default)(W,r.default.DRIBBBLE,u.default),(0,s.default)(W,r.default.EMAIL,d.default),(0,s.default)(W,r.default.FACEBOOK_UNAUTH,p.default),(0,s.default)(W,r.default.FIVEHUNDREDPIX_UNAUTH,m.default),(0,s.default)(W,r.default.FLICKR_UNAUTH,f.default),(0,s.default)(W,r.default.FOURSQUARE_UNAUTH,h.default),(0,s.default)(W,r.default.GITHUB_UNAUTH,v.default),(0,s.default)(W,r.default.GOODREADS,g.default),(0,s.default)(W,r.default.GOOGLEPLAY,b.default),(0,s.default)(W,r.default.HOUZZ,A.default),(0,s.default)(W,r.default.IMDB,y.default),(0,s.default)(W,r.default.INSTAGRAM_UNAUTH,C.default),(0,s.default)(W,r.default.ITUNES,S.default),(0,s.default)(W,r.default.LINKEDIN_UNAUTH,E.default),(0,s.default)(W,r.default.MEDIUM,I.default),(0,s.default)(W,r.default.MEETUP,k.default),(0,s.default)(W,r.default.PINTEREST_UNAUTH,w.default),(0,s.default)(W,r.default.RDIO,O.default),(0,s.default)(W,r.default.REDDIT,j.default),(0,s.default)(W,r.default.SMUGMUG_UNAUTH,L.default),(0,s.default)(W,r.default.SNAPCHAT,_.default),(0,s.default)(W,r.default.SOUNDCLOUD_UNAUTH,D.default),(0,s.default)(W,r.default.SPOTIFY_UNAUTH,U.default),(0,s.default)(W,r.default.STITCHER,T.default),(0,s.default)(W,r.default.THEDOTS,P.default),(0,s.default)(W,r.default.TIDAL,N.default),(0,s.default)(W,r.default.TRIPADVISOR,R.default),(0,s.default)(W,r.default.TUMBLR_UNAUTH,x.default),(0,s.default)(W,r.default.TWITTER_UNAUTH,q.default),(0,s.default)(W,r.default.TWITCH,M.default),(0,s.default)(W,r.default.URL,H.default),(0,s.default)(W,r.default.VEVO,B.default),(0,s.default)(W,r.default.VIMEO_UNAUTH,F.default),(0,s.default)(W,r.default.VSCO,G.default),(0,s.default)(W,r.default.YELP,$.default),(0,s.default)(W,r.default.YOUTUBE_UNAUTH,V.default),W);t.default=z;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/SocialLinks/SocialLinkInput.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var s=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=a(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var c=a(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var i=a(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=a(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var d=a(n("./common/temp/node_modules/react/index.js"));var p=a(n("./common/temp/node_modules/prop-types/index.js"));var m=a(n("./common/temp/node_modules/@sqs/core-components/fields/StringField.js"));var f=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var h=a(n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/SocialLinks/SocialIconImages.js"));var v=a(n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/SocialLinks/utils/matchSocialProvider.js"));var g=a(n("./src/main/webapp/frontend/packages/enums/ExternalServiceProviders.js"));var b=a(n("./src/main/webapp/universal/src/shared/utils/UrlUtils.js"));var A=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/ConnectedAccountsActions.js"));var y=n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/ConnectedAccounts/constants/ServiceConfig.js");var C=a(n("./common/temp/node_modules/lodash/debounce.js"));var S=a(n("./src/main/webapp/universal/src/shared/utils/CMSV7Events.js"));var E=a(n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/SocialLinks/SocialLinkInput.less"));var I=a(n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/SocialLinks/empty.svg"));function k(s){var r=w();return function e(){var t=(0,l.default)(s),n;if(r){var a=(0,l.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,i.default)(this,n)}}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var O=function(e){(0,c.default)(n,e);var t=k(n);function n(){var s;(0,r.default)(this,n);s=t.call(this);(0,u.default)((0,o.default)(s),"checkForError",function(){var e=s.state,t=e.serviceProvider,n=e.url;!t&&n?s.setState({error:(0,f.t)("URL not detected")}):s.debouncedError&&s.setState({error:false})});(0,u.default)((0,o.default)(s),"handleChange",function(e){var t=(0,v.default)(e);s.debouncedError=s.debouncedCheckForError();s.setState({serviceProvider:t,url:e,error:""})});(0,u.default)((0,o.default)(s),"handleEnter",function(e){var t=s.state,n=t.serviceProvider,a=t.isSaving;if(13===e.keyCode&&n&&!a){s.setState({hasFocus:false,isSaving:true});s.createNonOAuthAccount()}});s.state={serviceProvider:"",url:"",error:false,isSaving:false};s.debouncedCheckForError=(0,C.default)(s.checkForError,500);return s}(0,s.default)(n,[{key:"componentWillUnmount",value:function e(){this.debouncedError&&this.debouncedError.cancel();this.handleAutoSaveOnLeave()}},{key:"handleAutoSaveOnLeave",value:function e(){var t=this.state,n=t.serviceProvider,a=t.isSaving,s=t.url;n&&s&&!a&&this.createNonOAuthAccount(true)}},{key:"createNonOAuthAccount",value:function e(){var t=this;var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var a=this.state,s=a.serviceProvider,r=a.url;var o=this.props.trackingLocation;var c=y.SERVICE_CONFIGURATION[s].name||y.SERVICE_CONFIGURATION[s].displayName;var i={profileUrl:b.default.ensureUriOrProtocol(r),username:c||""};s===g.default.EMAIL&&(i={username:r});S.default.socialLinksAddRemove("add",s,o,r);A.default.createNonOAuthAccount(s,c,i).then(function(e){n||t.setState({url:"",hasFocus:true,serviceProvider:"",isSaving:false})}).catch(function(e){n||t.setState({error:(0,f.t)("Social link cannot be added"),hasFocus:true,isSaving:false})})}},{key:"render",value:function e(){var t=this.state,n=t.serviceProvider,a=t.error,s=t.url,r=t.isSaving;return d.default.createElement(m.default,{className:E.default.container,placeholder:(0,f.t)("Add a social link or email"),errors:a?{message:a}:null,beforeInput:h.default[n]||I.default,onChange:this.handleChange,onKeyUp:this.handleEnter,value:s,disabled:r,htmlAttributes:{autoComplete:"off"}})}}]);return n}(d.default.Component);(0,u.default)(O,"propTypes",{trackingLocation:p.default.oneOf(["social_links","cover_page_social_links","social_links_block_editor"]).isRequired});var j=O;t.default=j;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/SocialLinks/SocialLinkInput.less":function(e,t,n){e.exports={container:"SocialLinkInput-container-3pcAK"}},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/SocialLinks/SocialUrlPatterns.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=a(n("./src/main/webapp/frontend/packages/enums/ExternalServiceProviders.js"));var r={"^(https?://)?t.co/[a-zA-Z0-9-.]{8,}":s.default.TWITTER_UNAUTH,"itunes.apple.com/.+/podcast/":s.default.APPLEPODCAST,"500px.com":s.default.FIVEHUNDREDPIX_UNAUTH,"bandsintown.com":s.default.BANDSINTOWN,"behance.com":s.default.BEHANCE,"behance.net":s.default.BEHANCE,"codepen.com":s.default.CODEPEN,"codepen.io":s.default.CODEPEN,"dribbble.com":s.default.DRIBBBLE,"facebook.com":s.default.FACEBOOK_UNAUTH,"fb.me":s.default.FACEBOOK_UNAUTH,"flickr.com":s.default.FLICKR_UNAUTH,"foursquare.com":s.default.FOURSQUARE_UNAUTH,"4sq.com":s.default.FOURSQUARE_UNAUTH,"github.com":s.default.GITHUB_UNAUTH,"goodreads.com":s.default.GOODREADS,"imdb.com":s.default.IMDB,"instagram.com":s.default.INSTAGRAM_UNAUTH,"itunes.apple.com":s.default.ITUNES,"phobos.apple.com":s.default.ITUNES,"music.apple.com":s.default.ITUNES,"linkedin.com":s.default.LINKEDIN_UNAUTH,"medium.com":s.default.MEDIUM,"meetup.com":s.default.MEETUP,"meetu.ps":s.default.MEETUP,"pinterest.com":s.default.PINTEREST_UNAUTH,"play.google.com":s.default.GOOGLEPLAY,"reddit.com":s.default.REDDIT,"smugmug.com":s.default.SMUGMUG_UNAUTH,"snapchat.com":s.default.SNAPCHAT,"soundcloud.com":s.default.SOUNDCLOUD_UNAUTH,"spotify.com":s.default.SPOTIFY_UNAUTH,"stitcher.com":s.default.STITCHER,"the-dots.com":s.default.THEDOTS,"tidal.com":s.default.TIDAL,"tripadvisor.com":s.default.TRIPADVISOR,"tumblr.com":s.default.TUMBLR_UNAUTH,"twitch.com":s.default.TWITCH,"twitch.tv":s.default.TWITCH,"twitter.com":s.default.TWITTER_UNAUTH,"vevo.com":s.default.VEVO,"vimeo.com":s.default.VIMEO_UNAUTH,"vsco.co":s.default.VSCO,"vsco.com":s.default.VSCO,"yelp.com":s.default.YELP,"youtube.com":s.default.YOUTUBE_UNAUTH,"spotify:":s.default.SPOTIFY_UNAUTH,"houzz.":s.default.HOUZZ,"pinterest.":s.default.PINTEREST_UNAUTH,"tripadvisor.":s.default.TRIPADVISOR,"yelp.":s.default.YELP,podcast:s.default.APPLEPODCAST};t.default=r;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/SocialLinks/empty.svg":function(e,t){e.exports="data:image/svg+xml,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='12' cy='12' r='11.5' stroke='%23797979' stroke-linejoin='round' stroke-dasharray='2 4'/%3E%3C/svg%3E"},"./src/main/webapp/universal/src/apps/App/screens/Settings/screens/SocialLinks/utils/matchSocialProvider.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=i;var s=a(n("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/SocialLinks/SocialUrlPatterns.js"));var r=a(n("./src/main/webapp/frontend/packages/enums/ExternalServiceProviders.js"));var o=a(n("./src/main/webapp/universal/src/shared/utils/UrlUtils.js"));var c=a(n("./src/main/webapp/universal/src/shared/utils/EmailUtils.js"));function i(e){var t=e.toLowerCase();var n=Object.keys(s.default);if(c.default.isValidEmail(e))return r.default.EMAIL;for(var a=0;a<n.length;a++)if(t.match(n[a]))return s.default[n[a]];if(o.default.isProperUrl(t)||t.match(o.default.URI_REGEX))return r.default.URL;return false}e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/StructuredInput.jsx":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=a(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var c=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=a(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=a(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var u=a(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var d=a(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var s=a(n("./common/temp/node_modules/prop-types/index.js"));var m=a(n("./common/temp/node_modules/react/index.js"));var f=a(n("./common/temp/node_modules/classnames/index.js"));var h=a(n("./common/temp/node_modules/lodash/omit.js"));var v=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var g=n("./src/main/webapp/universal/src/shared/i18n/react.ts");var b=n("./src/main/webapp/universal/src/apps/App/shared/utils/StructuredInputUtils.js");var A=a(n("./src/main/webapp/universal/src/apps/App/shared/components/FilteredInput.jsx"));var y=n("./common/temp/node_modules/@sqs/fields/lib/index.js");var C=a(n("./src/main/webapp/universal/src/shared/components/Tooltip/index.js"));var S=a(n("./src/main/webapp/universal/src/shared/constants/Positions.js"));var E=a(n("./src/main/webapp/universal/src/apps/App/shared/components/StructuredInput.less"));function I(s){var r=k();return function e(){var t=(0,d.default)(s),n;if(r){var a=(0,d.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,u.default)(this,n)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var w=function(e){(0,l.default)(s,e);var a=I(s);function s(){var r;(0,c.default)(this,s);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r=a.call.apply(a,[this].concat(t));(0,p.default)((0,i.default)(r),"compileRegexes",function(){r.regexes=(0,b.buildRegexes)(r.props.variables)});(0,p.default)((0,i.default)(r),"renderTooltip",function(e,t,n){var a=r.props.variables;return m.default.createElement(C.default,{isOpen:e,title:(0,v.t)("Formatting"),anchor:n,position:{join:S.default.TOP_LEFT,to:S.default.BOTTOM_RIGHT}},m.default.createElement("p",null,(0,v.t)("This field accepts variables. Type one of the codes below to activate a variable:")),m.default.createElement("ul",{className:E.default.legend},Object.keys(a).map(function(e){return m.default.createElement("li",{key:e},m.default.createElement("strong",null,e)," — ",a[e].description)})))});(0,p.default)((0,i.default)(r),"renderPreview",function(){var e=r.props,t=e.exampleTemplate,n=e.value,a=e.variables;var s=(0,b.getPreviewString)(r.regexes,a,n);return m.default.createElement("div",{className:(0,f.default)(E.default.preview,"u-structured-input-preview")},m.default.createElement(g.T,{project:"apps.App"},"Example:")," ",t(s))});(0,p.default)((0,i.default)(r),"renderInput",function(){var n=(0,h.default)(r.props,["exampleTemplate","variables","filter"]);if(r.props.filter)return m.default.createElement(A.default,{onChange:r.props.onChange,filter:r.props.filter,render:function e(t){return m.default.createElement(y.Input,(0,o.default)({},n,t,{wrapperClassName:E.default.input,onBlur:r.props.onBlur}))}});return m.default.createElement(y.Input,(0,o.default)({},n,{wrapperClassName:E.default.input,onBlur:r.props.onBlur,onChange:r.props.onChange}))});return r}(0,r.default)(s,[{key:"UNSAFE_componentWillMount",value:function e(){this.compileRegexes()}},{key:"render",value:function e(){var t=(0,f.default)(E.default.container,this.props.className);return m.default.createElement("div",{className:t},m.default.createElement("div",{className:E.default.inputWrapper},this.renderInput(),m.default.createElement(C.default.HoverTrigger,{openDelay:150,className:E.default.helpBox,component:this.renderTooltip})),this.props.value&&this.renderPreview())}}]);return s}(m.default.Component);(0,p.default)(w,"propTypes",{errorMessage:s.default.string,exampleTemplate:s.default.func,filter:s.default.func,label:s.default.string,onBlur:s.default.func,onChange:s.default.func,placeholder:s.default.string,value:s.default.string,variables:s.default.objectOf(s.default.shape({title:s.default.string,description:s.default.string,exampleText:s.default.string}))});(0,p.default)(w,"defaultProps",{exampleTemplate:function e(t){return t}});var O=w;t.default=O;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/StructuredInput.less":function(e,t,n){e.exports={container:"StructuredInput-container-3WkQ0 fieldMargins-smallMargin-7e4kQ",preview:"StructuredInput-preview-310gG fieldMargins-smallMargin-7e4kQ",inputWrapper:"StructuredInput-inputWrapper-2sl2i",input:"StructuredInput-input-3WUKr",helpBox:"StructuredInput-helpBox-2g1FC",legend:"StructuredInput-legend-3tRal"}}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/21-6cb99add9d7e1e350f613-min.en-US.js.map