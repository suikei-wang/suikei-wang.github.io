(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([[46],{"./common/temp/node_modules/lodash/includes.js":function(e,t,s){var a=s("./common/temp/node_modules/lodash/_baseIndexOf.js"),i=s("./common/temp/node_modules/lodash/isArrayLike.js"),o=s("./common/temp/node_modules/lodash/isString.js"),l=s("./common/temp/node_modules/lodash/toInteger.js"),u=s("./common/temp/node_modules/lodash/values.js");var c=Math.max;function r(e,t,s,r){e=i(e)?e:u(e);s=s&&!r?l(s):0;var n=e.length;s<0&&(s=c(n+s,0));return o(e)?s<=n&&e.indexOf(t,s)>-1:!!n&&a(e,t,s)>-1}e.exports=r},"./src/main/webapp/universal/src/apps/App/shared/actions/WebsiteSummariesActions.js":function(e,t,s){"use strict";var r=s("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=r(s("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var a=r(s("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=s("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var o=s("./src/main/webapp/universal/src/apps/App/shared/utils/WebsiteSummaryAPI.js");var l=function(){function e(){(0,n.default)(this,e);this.generateActions("loadSuccess","loadFailure","deleteSuccess","deleteFailure","removeAccessSuccess","removeAccessFailure","filter")}(0,a.default)(e,[{key:"load",value:function e(t){var s=this;return function(e){e({status:t});return o.load({status:t}).then(function(e){return s.loadSuccess(e.data.results)},function(e){return s.loadFailure(e.data.error)}).catch(function(e){return console.error(e)})}}},{key:"delete",value:function e(t){var s=this;return o.deleteWebsite(t).then(function(){return s.deleteSuccess(t)},function(){return s.deleteFailure(t)}).catch(function(e){return console.error(e)})}},{key:"removeAccess",value:function e(t){var s=this;return o.removeWebsiteAccess(t).then(function(){return s.removeAccessSuccess(t)},function(){return s.removeAccessFailure(t)}).catch(function(e){return console.error(e)})}}]);return e}();e.exports=i.createActions(l)},"./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteSummariesStore.js":function(e,t,s){"use strict";var r=s("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(s("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var a=r(s("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=r(s("./common/temp/node_modules/lodash/includes.js"));var o=r(s("./src/main/webapp/universal/src/shared/actions/BootstrapHelper.js"));var l=r(s("./src/main/webapp/universal/src/apps/App/shared/actions/WebsiteSummariesActions.js"));var u=function(){function e(){(0,n.default)(this,e);this.state={websiteSummaries:[],filteredWebsiteSummaries:[],loading:false,filtered:false};this.bindActions(l.default);this.exportPublicMethods({getWebsiteSummaries:this.getWebsiteSummaries,filter:this.filterByTerm})}(0,a.default)(e,[{key:"onLoadSuccess",value:function e(t){this.setState({websiteSummaries:t,filtered:false})}},{key:"onDelete",value:function e(){this.setState({loading:true})}},{key:"onDeleteSuccess",value:function e(t){var s=this.state.websiteSummaries;this.setState({websiteSummaries:s.filter(function(e){return e.id!==t}),loading:false})}},{key:"onDeleteFailure",value:function e(){this.setState({loading:false})}},{key:"onRemoveAccess",value:function e(){this.setState({loading:true})}},{key:"onRemoveAccessSuccess",value:function e(t){var s=this.state.websiteSummaries;this.setState({websiteSummaries:s.filter(function(e){return e.id!==t}),loading:false})}},{key:"onRemoveAccessFailure",value:function e(){this.setState({loading:false})}},{key:"onFilter",value:function e(t){this.setState({filtered:!(""===t),filteredWebsiteSummaries:this.filterByTerm(t)})}},{key:"getStateFromContext",value:function e(t){var s=t.websiteSummaries;return{websiteSummaries:s}}},{key:"filterByTerm",value:function e(t){var s=this.state.websiteSummaries;var r=t.toLowerCase().trim();var a=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,i.default)(t.toLowerCase(),r)};var n=s.filter(function(e){var t=e.siteTitle,s=e.identifier,r=e.primaryDomain,n=e.domains;return a(t)||a(s)||a(r)||n.some(function(e){return a(e.name)})});return n}},{key:"getWebsiteSummaries",value:function e(){var t=this.state,s=t.websiteSummaries,r=t.filteredWebsiteSummaries,n=t.filtered;return n?r:s}}]);return e}();var c=(0,o.default)(u,"WebsiteSummariesStore");t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/utils/WebsiteSummaryAPI.js":function(e,t,s){"use strict";var r=s("./src/main/webapp/universal/src/shared/utils/sqsAxios.ts");var n=s("./common/temp/node_modules/lodash/isNumber.js");var a={load:function e(t){return r.get("/api/website-summaries",{params:{status:n(t)?t:null}})},deleteWebsite:function e(t){return r.delete("/api/rest/websites/".concat(t))},removeWebsiteAccess:function e(t){return r.delete("/api/rest/websites/".concat(t,"/member-permissions/mine"))}};e.exports=a},"./src/main/webapp/universal/src/shared/components/Dialog/Trigger.jsx":function(e,t,s){"use strict";var r=s("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var c=r(s("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var m=r(s("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var i=r(s("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=r(s("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var l=r(s("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=r(s("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var d=r(s("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var p=r(s("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var f=r(s("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function v(n){var a=b();return function e(){var t=(0,p.default)(n),s;if(a){var r=(0,p.default)(this).constructor;s=Reflect.construct(t,arguments,r)}else s=t.apply(this,arguments);return(0,d.default)(this,s)}}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var n=s("./common/temp/node_modules/prop-types/index.js");var h=s("./common/temp/node_modules/react/index.js");var y=s("./common/temp/node_modules/lodash/capitalize.js");var I=s("./common/temp/node_modules/classnames/index.js");var a=function(e){(0,u.default)(a,e);var n=v(a);function a(){var s;(0,i.default)(this,a);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];s=n.call.apply(n,[this].concat(t));(0,f.default)((0,l.default)(s),"state",{isOpen:!!s.props.startOpen});(0,f.default)((0,l.default)(s),"onClose",function(){s.setState({isOpen:false})});(0,f.default)((0,l.default)(s),"bindEvent",function(e){var t={};Array.isArray(e)||(e=[e]);e.forEach(function(e){return t["on"+y(e)]=s.handleToggleIsOpen});return t});(0,f.default)((0,l.default)(s),"handleToggleIsOpen",function(e){if(e.target===e.currentTarget||e.currentTarget.contains(e.target)){e.stopPropagation();s.setState({isOpen:!s.state.isOpen})}});return s}(0,o.default)(a,[{key:"render",value:function e(){var s=this;var t=this.props,r=t.children,n=t.component,a=t.uiEvent,i=t.className,o=(0,m.default)(t,["children","component","uiEvent","className"]);var l=this.state.isOpen;var u=I(i,"u-trigger");delete o.startOpen;return h.createElement("div",(0,c.default)({ref:function e(t){s.wrapper=t},className:u},this.bindEvent(a),o),r,n(l,this.onClose,this.wrapper))}}]);return a}(h.PureComponent);(0,f.default)(a,"propTypes",{startOpen:n.bool,component:n.oneOfType([n.func,n.element]),uiEvent:n.oneOfType([n.array,n.string])});(0,f.default)(a,"defaultProps",{uiEvent:"click"});e.exports=a},"./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteList.less":function(e,t,s){e.exports={websites:"WebsiteList-websites-k1AQj"}},"./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteListItem.jsx":function(e,t,s){"use strict";var r=s("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var i=r(s("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=r(s("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var l=r(s("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=r(s("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var c=r(s("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var m=r(s("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=r(s("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function p(n){var a=f();return function e(){var t=(0,m.default)(n),s;if(a){var r=(0,m.default)(this).constructor;s=Reflect.construct(t,arguments,r)}else s=t.apply(this,arguments);return(0,c.default)(this,s)}}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var n=s("./src/main/webapp/universal/src/shared/i18n/react.ts"),j=n.T;var w=s("./common/temp/node_modules/classnames/index.js");var a=s("./common/temp/node_modules/prop-types/index.js");var W=s("./common/temp/node_modules/react/index.js");var S=s("./common/temp/node_modules/lodash/invert.js");var v=s("./src/main/webapp/universal/src/shared/utils/ThemePropType.ts");var _=s("./src/main/webapp/frontend/packages/enums/StatusConstants.js");var A=s("./src/main/webapp/frontend/packages/enums/WebsiteType.js");var C=s("./src/main/webapp/frontend/packages/enums/DomainTypes.js");var L=s("./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteListItem.less");var b=function(e){(0,u.default)(a,e);var n=p(a);function a(){var r;(0,i.default)(this,a);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];r=n.call.apply(n,[this].concat(t));(0,d.default)((0,l.default)(r),"renderAddIndicator",function(){var e=r.props,t=e.title,s=e.onAddIndicatorClick;return W.createElement("div",{className:L.container,onClick:s},W.createElement("div",{className:L.wrapper},W.createElement("div",{className:L.addIndicator},W.createElement("span",null,"+")),W.createElement("div",{className:L.info},W.createElement("div",{className:L.title},t))))});return r}(0,o.default)(a,[{key:"render",value:function e(){var t=this.props,s=t.description,r=t.domains,n=t.isCurrent,a=t.isSiteOwner,i=t.isDeleteEnabled,o=t.label,l=t.siteStatus,u=t.websiteType,c=t.screenshotInfo,m=t.onAddIndicatorClick,d=t.onSelect,p=t.onDelete,f=t.onRemoveAccess,v=t.title,b=t.theme;if(m)return this.renderAddIndicator();var h=S(A)[u]||"";var y=i&&!n&&!a;var I=i&&!n&&a&&!r.some(function(e){var t=e.type;return t===C.SQUARESPACE})&&(l===_.TRIAL||l===_.EXPIRED);var g={};c.url&&!c.errorCode&&(g=Object.assign(g,{backgroundImage:"url(".concat(c.url,")")}));return W.createElement("div",{className:w(L.container,L[b])},W.createElement("div",{className:L.wrapper,onClick:d},W.createElement("div",{className:w(L.preview,L[h.toLowerCase()]),style:g},(c.errorCode||!c.url)&&W.createElement("span",null,W.createElement(j,{project:"src.shared"},"Preview image coming soon"))),W.createElement("div",{className:L.info},W.createElement("div",{className:L.title},v),W.createElement("div",{className:L.description},s),W.createElement("div",{className:L[o.toLowerCase()]},o)),I&&W.createElement("div",{className:L.deleteWrapper},W.createElement("div",{className:L.deleteButton,onClick:p})),y&&W.createElement("div",{className:L.deleteWrapper},W.createElement("div",{className:L.deleteButton,onClick:f}))))}}]);return a}(W.Component);(0,d.default)(b,"propTypes",{description:a.string,label:a.string,title:a.string.isRequired,id:a.string,identifier:a.string,isCurrent:a.bool,isSiteOwner:a.bool,isDeleteEnabled:a.bool,domains:a.array,siteStatus:a.number,websiteType:a.oneOf(Object.values(A)),screenshotInfo:a.shape({url:a.string,errorCode:a.string}),onAddIndicatorClick:a.func,onSelect:a.func,onDelete:a.func,onRemoveAccess:a.func,theme:v.isRequired});(0,d.default)(b,"defaultProps",{domains:[],screenshotInfo:{},theme:"damask"});e.exports=b},"./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteListItem.less":function(e,t,s){e.exports={container:"WebsiteListItem-container-1tghC",wrapper:"WebsiteListItem-wrapper-2xW_T",deleteWrapper:"WebsiteListItem-deleteWrapper-3X32R",preview:"WebsiteListItem-preview-85_b8",midnight:"WebsiteListItem-midnight-2LNa9",info:"WebsiteListItem-info-30jAB",title:"WebsiteListItem-title-8Q9OT",addIndicator:"WebsiteListItem-addIndicator-3IixV icons-add-1Ck8o",description:"WebsiteListItem-description-11Tbo",statusBadge:"WebsiteListItem-statusBadge-1oM4m",internal:"WebsiteListItem-internal-1qAx7 layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",trial:"WebsiteListItem-trial-1gett layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",comped:"WebsiteListItem-comped-EgwoS layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",active:"WebsiteListItem-active-1GPS4 layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",paid:"WebsiteListItem-paid-IKIFs layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",domain:"WebsiteListItem-domain-3_KJ4 layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",expired:"WebsiteListItem-expired-2baFy layout-pillNeueRed-1BFyj layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",removed:"WebsiteListItem-removed-3_u_a layout-pillNeueRed-1BFyj layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",pastdue:"WebsiteListItem-pastdue-1qw25 layout-pillNeueRed-1BFyj layout-pillNeue-1GWDQ WebsiteListItem-statusBadge-1oM4m",deleteButton:"WebsiteListItem-deleteButton-ZXRPy icons-clear-3iHX5"}},"./src/main/webapp/universal/src/shared/components/WebsiteList/index.jsx":function(e,t,s){"use strict";var r=s("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var y=r(s("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var I=r(s("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var i=r(s("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var a=r(s("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=r(s("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=r(s("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var u=r(s("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=r(s("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var m=r(s("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function d(n){var a=p();return function e(){var t=(0,c.default)(n),s;if(a){var r=(0,c.default)(this).constructor;s=Reflect.construct(t,arguments,r)}else s=t.apply(this,arguments);return(0,u.default)(this,s)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var n=s("./common/temp/node_modules/prop-types/index.js");var g=s("./common/temp/node_modules/react/index.js");var f=s("./common/temp/node_modules/@sqs/transitions/lib/index.js"),j=f.CSSTransitionGroup,w=f.CSSTransitionGroupPresets;var v=s("./src/main/webapp/universal/src/shared/i18n/index.ts"),b=v.pluralize;var W=s("./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteListItem.jsx");var S=s("./src/main/webapp/frontend/packages/enums/StatusConstants.js");var h=s("./src/main/webapp/universal/src/shared/constants/StatusGroups.js");var _=s("./src/main/webapp/universal/src/shared/components/WebsiteList/WebsiteList.less");var A=s("./src/main/webapp/universal/src/shared/utils/ThemePropType.ts");var C=s("./src/main/webapp/universal/src/shared/utils/UrlUtils.js"),L=C.removeHttpAndWwwFromUrl;var E=function(e){(0,l.default)(n,e);var r=d(n);function n(){var a;(0,i.default)(this,n);for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];a=r.call.apply(r,[this].concat(t));(0,m.default)((0,o.default)(a),"generateLabel",function(t){return Object.keys(h).find(function(e){return h[e].indexOf(t)>=0})});(0,m.default)((0,o.default)(a),"generateDescription",function(e,t,s,r){var n=a.props.appDomain;if(s===S.ACTIVE_PARKING_PAGE)return b({one:"{%n} Domain",other:"{%n} Domains"},r.length);if(t)return L(t);if(e)return"".concat(e,".").concat(n);return""});return a}(0,a.default)(n,[{key:"render",value:function e(){var u=this;var t=this.props,s=t.items,c=t.appDomain,m=t.currentWebsiteIdentifier,d=t.memberAccountId,r=t.addIndicator,p=t.theme,f=t.deleteEnabled,v=t.onItemSelect,b=t.onItemDelete,h=t.onItemRemoveAccess;return g.createElement(j,(0,y.default)({className:_.websites,wrapChildWithTag:false},w.Reorderable),s.map(function(s){var t=s.identifier,e=s.siteTitle,r=s.ownerMemberAccountId,n=s.siteStatus,a=(0,I.default)(s,["identifier","siteTitle","ownerMemberAccountId","siteStatus"]);var i=t===m;var o=d===r;var l=n===S.ACTIVE_PARKING_PAGE?L(a.url):e;return g.createElement(W,(0,y.default)({title:l,description:u.generateDescription(t,a.url,n,a.domains),label:u.generateLabel(n),key:t,identifier:t,siteStatus:n,theme:p,isCurrent:i,isSiteOwner:o,isDeleteEnabled:f,onSelect:function e(){v(s,t===m)},onDelete:function e(t){t.preventDefault();t.stopPropagation();b(s)},onRemoveAccess:function e(t){t.preventDefault();t.stopPropagation();h(s)},appDomain:c},a))}).concat([r&&g.createElement(W,{key:"addIndicator",identifier:"addIndicator",title:r.label,currentWebsiteIdentifier:m,onAddIndicatorClick:r.onClick})]))}}]);return n}(g.Component);(0,m.default)(E,"propTypes",{memberAccountId:n.string,items:n.array,currentWebsiteIdentifier:n.string.isRequired,addIndicator:n.shape({label:n.string,onClick:n.func}),deleteEnabled:n.bool,onItemSelect:n.func,onItemDelete:n.func,onItemRemoveAccess:n.func,appDomain:n.string.isRequired,theme:A.isRequired});(0,m.default)(E,"defaultProps",{theme:"damask"});e.exports=E},"./src/main/webapp/universal/src/shared/constants/StatusGroups.js":function(e,t,s){"use strict";var r=s("./src/main/webapp/frontend/packages/enums/StatusConstants.js");var n={active:[r.PAID,r.ACTIVE,r.V5_LINKED,r.PASTDUE,r.COMPED,r.INTERNAL],trial:[r.TRIAL],expired:[r.EXPIRED],removed:[r.REMOVED],domain:[r.ACTIVE_PARKING_PAGE]};e.exports=n},"./src/main/webapp/universal/src/shared/utils/LogoutAPI.js":function(e,t,s){"use strict";var r="/api/auth/Logout";var n=s("./src/main/webapp/universal/src/shared/utils/sqsAxios.ts");var a={logout:function e(){return n.post(r)}};e.exports=a}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/46-7da6b41e6de7c4ad76386-min.en-US.js.map