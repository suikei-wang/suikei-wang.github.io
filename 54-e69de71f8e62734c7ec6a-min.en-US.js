(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([[54],{"./src/main/webapp/frontend/packages/enums/MemberAccountGuild.js":function(e,t){var a={CIRCLE_USER:1,DEVELOPER:2,ENTERPRISE:3};e.exports=a},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/hooks/useTrackView.js":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var i=a("./common/temp/node_modules/react/index.js");var s=function e(t){var a=(0,i.useState)(false),r=(0,o.default)(a,2),s=r[0],n=r[1];(0,i.useEffect)(function(){if(s)return;t();n(true)},[t,s])};t.default=s;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationItem.jsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var p=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function m(s){var n=d();return function e(){var t=(0,p.default)(s),a;if(n){var r=(0,p.default)(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return(0,l.default)(this,a)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var s=a("./common/temp/node_modules/prop-types/index.js");var f=a("./common/temp/node_modules/react/index.js");var v=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationItem.less");var h=function e(t){var a=document.createElement("DIV");a.innerHTML=t;return a.textContent||a.innerText||""};var b=function(e){(0,c.default)(s,e);var r=m(s);function s(){var n;(0,o.default)(this,s);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];n=r.call.apply(r,[this].concat(t));(0,u.default)((0,i.default)(n),"handleClick",function(){var e=n.props,t=e.id,a=e.title,r=e.url,s=e.onRead;s(t,a,r)});(0,u.default)((0,i.default)(n),"handleDismiss",function(e){e.preventDefault();e.stopPropagation();var t=n.props,a=t.id,r=t.title,s=t.onDismiss;s(a,r)});return n}(0,n.default)(s,[{key:"render",value:function e(){var t=this.props,a=t.title,r=t.excerpt;return f.createElement("div",{className:v.container,onClick:this.handleClick},f.createElement("div",{className:v.clearButton,onClick:this.handleDismiss},"Ã—"),f.createElement("div",{className:v.title},a),f.createElement("div",null,h(r)))}}]);return s}(f.Component);(0,u.default)(b,"propTypes",{id:s.string.isRequired,title:s.string,excerpt:s.string,url:s.string,onRead:s.func,onDismiss:s.func});e.exports=b},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationItem.less":function(e,t,a){e.exports={container:"NotificationItem-container-1-U53",title:"NotificationItem-title-3C1eo",clearButton:"NotificationItem-clearButton-1cZcm"}},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsBadge.jsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var s=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function p(s){var n=u();return function e(){var t=(0,c.default)(s),a;if(n){var r=(0,c.default)(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return(0,i.default)(this,a)}}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var m=a("./common/temp/node_modules/prop-types/index.js");var d=a("./common/temp/node_modules/react/index.js");var f=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsModal.jsx");var v=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/actions/NotificationsActions.js");var h=a("./src/main/webapp/universal/src/shared/components/Dialog/Trigger.jsx");var b=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsBadge.less");var A=function(e){(0,o.default)(a,e);var t=p(a);function a(){(0,s.default)(this,a);return t.apply(this,arguments)}(0,n.default)(a,[{key:"componentDidMount",value:function e(){0===this.props.notifications.length&&v.load()}},{key:"render",value:function e(){var r=this;var t=this.props,s=t.authenticatedAccount,n=t.notifications;return n&&0!==n.length&&d.createElement(h,{className:b.triggerContainer,component:function e(t,a){return d.createElement(f,{isOpen:t,onRequestClose:a,anchor:r.refs.badge,notifications:n,authenticatedAccount:s})}},d.createElement("div",{className:b.badgeWrapper,ref:"badge"},d.createElement("span",{className:b.badgeText},n.length),d.createElement("div",{className:b.badge})))}}]);return a}(d.Component);(0,l.default)(A,"propTypes",{authenticatedAccount:m.object,notifications:m.array});(0,l.default)(A,"defaultProps",{notifications:[]});e.exports=A},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsBadge.less":function(e,t,a){e.exports={triggerContainer:"NotificationsBadge-triggerContainer-xql3C",badge:"NotificationsBadge-badge-2WbKP",badgeWrapper:"NotificationsBadge-badgeWrapper-GXaVv",badgeText:"NotificationsBadge-badgeText-3npzC"}},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsModal.jsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var p=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var m=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function d(s){var n=f();return function e(){var t=(0,u.default)(s),a;if(n){var r=(0,u.default)(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return(0,p.default)(this,a)}}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var s=a("./common/temp/node_modules/prop-types/index.js");var v=a("./common/temp/node_modules/react/index.js");var h=a("./src/main/webapp/universal/src/shared/components/Modal/index.jsx");var b=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationItem.jsx");var A=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/actions/NotificationsActions.js");var g=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsModal.less");var n=a("./src/main/webapp/universal/src/shared/utils/analytics/trackInternal.ts");var R=function e(t,a,r){n(t,{itemId:a,itemTitle:r})};var j=function(e){(0,l.default)(n,e);var s=d(n);function n(){var t;(0,o.default)(this,n);for(var e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];t=s.call.apply(s,[this].concat(a));(0,m.default)((0,c.default)(t),"handleNotificationRead",function(e,t,a){A.read(e);R("engagement_notifications_item_open",e,t);window.open(a)});(0,m.default)((0,c.default)(t),"dismissNotification",function(e,t){A.read(e);R("engagement_notifications_item_clear",e,t)});(0,m.default)((0,c.default)(t),"handleDismissAll",function(){t.props.notifications.forEach(function(e){t.dismissNotification(e.id,e.title)})});return t}(0,i.default)(n,[{key:"render",value:function e(){var n=this;var t=this.props,a=t.isOpen,r=t.onRequestClose,s=t.anchor,o=t.notifications;return v.createElement(h,{isOpen:o&&0!==o.length&&a,onRequestClose:r,anchor:s,position:"right",width:"360px",className:g.notifications,overlayClassName:g.overlay},v.createElement(h.Header,{className:g.header},"Squarespace updates",v.createElement("span",{className:g.dismissAll,onClick:this.handleDismissAll},"Clear all")),v.createElement(h.Body,{className:g.body},o.map(function(e){var t=e.id,a=e.title,r=e.body,s=e.readMeUrl;return v.createElement(b,{key:t,id:t,title:a,excerpt:r,url:s,onRead:n.handleNotificationRead,onDismiss:n.dismissNotification})})))}}]);return n}(v.Component);(0,m.default)(j,"propTypes",{isOpen:s.bool,onRequestClose:s.func,anchor:s.instanceOf(Node),notifications:s.array});e.exports=j},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsModal.less":function(e,t,a){e.exports={overlay:"NotificationsModal-overlay-1vNrF",notifications:"NotificationsModal-notifications-2deQe",header:"NotificationsModal-header-2DDxs",body:"NotificationsModal-body-1Zc7L",dismissAll:"NotificationsModal-dismissAll-AdSXV"}},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/actions/NotificationsActions.js":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var s=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var i=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/utils/SquarespaceNewsAPI.js");var c=function(){function e(){(0,s.default)(this,e);this.generateActions("loadSuccess","loadFailure","readSuccess","readFailure")}(0,n.default)(e,[{key:"load",value:function e(){var t=this;return i.fetch().then(function(e){t.loadSuccess(e.data.results)},this.loadFailure)}},{key:"read",value:function e(t){var a=this;return i.delete(t).then(function(){a.readSuccess(t)},this.readFailure)}}]);return e}();e.exports=o.createActions(c)},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/index.js":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/alt-utils/lib/connectToStores.js");var s=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/stores/NotificationsStore.js");var n=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/NotificationsBadge.jsx");var o=r({getStores:function e(){return[s]},getPropsFromStores:function e(){var t=s.getNotifications();if(!t)return{};return{notifications:t}}},n);e.exports=o},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/stores/NotificationsStore.js":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var s=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=a("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var i=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/actions/NotificationsActions.js");var c=function(){function e(){(0,s.default)(this,e);this.state={notifications:null};this.bindActions(i);this.exportPublicMethods({getNotifications:this.getNotifications})}(0,n.default)(e,[{key:"onLoadSuccess",value:function e(t){this.setState({notifications:t})}},{key:"onReadSuccess",value:function e(t){this.setState({notifications:this.state.notifications.filter(function(e){return e.id!==t})})}},{key:"getNotifications",value:function e(){if(!this.state.notifications)return null;return this.state.notifications.slice(0,3)}}]);return e}();e.exports=o.createStore(c,"NotificationsStore")},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/utils/SquarespaceNewsAPI.js":function(e,t,a){"use strict";var r=a("./src/main/webapp/universal/src/shared/utils/sqsAxios.ts");var s="/api/squarespace-news";var n={fetch:function e(){return r.get(s)},delete:function e(t){return r.delete(s+"/"+t)}};e.exports=n},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/RootFooter.jsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var p=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var m=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var d=r(a("./common/temp/node_modules/react/index.js"));var f=r(a("./common/temp/node_modules/classnames/index.js"));var v=r(a("./common/temp/node_modules/@sqs/cookie-cutter/index.js"));var s=r(a("./src/main/webapp/frontend/packages/enums/CollectionTypes.js"));var n=r(a("./src/main/webapp/frontend/packages/enums/Flag.js"));var h=r(a("./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/index.ts"));var b=r(a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/Notifications/index.js"));var A=r(a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/index.js"));var g=r(a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/RootFooter.less"));var R=r(a("./src/main/webapp/universal/src/shared/utils/LogoutAPI.js"));var j=r(a("./src/main/webapp/universal/src/apps/App/shared/utils/BetaFeaturesUtils.ts"));var C=r(a("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js"));var w=r(a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js"));var y=r(a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/components/ProductCollectionMigrationCard.js"));function N(s){var n=x();return function e(){var t=(0,u.default)(s),a;if(n){var r=(0,u.default)(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return(0,p.default)(this,a)}}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var E="commerce_pc2_migration_prompt_dismissed";var _=function e(){return C.default.isSevenOne()&&w.default.getCollectionsOfType(s.default.PRODUCTS).length>0&&j.default.isFeatureEnabled(n.default.NESTED_CATEGORIES_MIGRATION_ENABLED)&&!j.default.isFeatureEnabled(n.default.NESTED_CATEGORIES_MIGRATION_LOCK)&&!j.default.isFeatureEnabled(n.default.NESTED_CATEGORIES)&&"true"!==v.default.get(E)};var S=function(e){(0,l.default)(n,e);var s=N(n);function n(){var e;(0,o.default)(this,n);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];e=s.call.apply(s,[this].concat(a));(0,m.default)((0,c.default)(e),"state",{hasJustDismissedPrompt:false});(0,m.default)((0,c.default)(e),"handleDismissCard",function(){v.default.set(E,"true");e.setState({hasJustDismissedPrompt:true})});(0,m.default)((0,c.default)(e),"onSignOutClicked",function(){return R.default.logout().then(function(){return window.location.reload()})});return e}(0,i.default)(n,[{key:"render",value:function e(){var t=this.props.className;var a="DEVELOPMENT"===window.Static.SQUARESPACE_CONTEXT.env;return d.default.createElement("div",null,_()&&d.default.createElement(y.default,{handleDismissCard:this.handleDismissCard}),d.default.createElement("div",{className:(0,f.default)(g.default.container,t)},a?d.default.createElement(A.default,{onLogout:this.onSignOutClicked}):d.default.createElement(h.default,null),d.default.createElement(b.default,null)))}}]);return n}(d.default.Component);e.exports=S},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/RootFooter.less":function(e,t,a){e.exports={container:"RootFooter-container-aHutc"}},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/SitePickerBadge.jsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var f=r(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function u(s){var n=m();return function e(){var t=(0,l.default)(s),a;if(n){var r=(0,l.default)(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return(0,c.default)(this,a)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var s=a("./common/temp/node_modules/prop-types/index.js");var v=a("./common/temp/node_modules/react/index.js");var h=a("./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.jsx");var b=a("./src/main/webapp/universal/src/apps/App/shared/components/AccountModal.jsx");var A=a("./src/main/webapp/universal/src/shared/components/Dialog/Trigger.jsx");var d=a("./src/main/webapp/universal/src/apps/App/shared/actions/WebsiteSummariesActions.js");var g=a("./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.jsx");var R=a("./src/main/webapp/frontend/packages/enums/WebsiteType.js");var j=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/SitePickerBadge.less");var C=function(e){(0,i.default)(s,e);var r=u(s);function s(){var d;(0,n.default)(this,s);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];d=r.call.apply(r,[this].concat(t));(0,p.default)((0,f.default)(d),"renderTriggeredAccountModal",function(){return d.renderTrigger(d.renderAccountModal)});(0,p.default)((0,f.default)(d),"renderProfileAvatar",function(){var e=d.props,t=e.initials,a=e.displayName,r=e.avatarAssetUrl;return v.createElement(h,{initials:t,displayName:a,avatarUrl:r})});(0,p.default)((0,f.default)(d),"renderTrigger",function(r){return v.createElement(A,{startOpen:false,component:function e(t,a){return r(t,a)}},d.renderProfileAvatar())});(0,p.default)((0,f.default)(d),"renderAccountModal",function(e,t){var a=d.props,r=a.appDomain,s=a.memberAccountId,n=a.avatarAssetUrl,o=a.currentWebsiteIdentifier,i=a.displayName,c=a.isCircle,l=a.hasItemsLoaded,p=a.items,u=a.onLogout,m=a.initials;return v.createElement(b,{anchor:(0,f.default)(d),currentWebsiteIdentifier:o,onRequestClose:t,hasItemsLoaded:l,isOpen:e,items:p,memberAccountId:s,name:i,isCircle:c,avatarAssetUrl:n,onLogout:u,appDomain:r,addIndicator:true,initials:m})});return d}(0,o.default)(s,[{key:"componentDidMount",value:function e(){0===this.props.items.length&&d.load.defer()}},{key:"render",value:function e(){var t=this.props,a=t.displayName,r=t.isCircle;return v.createElement("div",null,v.createElement("div",{className:j.wrapper},this.renderTriggeredAccountModal()),v.createElement("div",{className:j.name},r&&v.createElement(g,{className:j.circle}),a))}}]);return s}(v.Component);(0,p.default)(C,"propTypes",{memberAccountId:s.string,avatarAssetUrl:s.string,displayName:s.string,initials:s.string.isRequired,isCircle:s.bool,onLogout:s.func,currentWebsiteIdentifier:s.string,currentWebsiteType:s.oneOf(Object.values(R)),appDomain:s.string,items:s.array,hasItemsLoaded:s.bool});(0,p.default)(C,"defaultProps",{items:[]});e.exports=C},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/SitePickerBadge.less":function(e,t,a){e.exports={wrapper:"SitePickerBadge-wrapper-1KwBt",name:"SitePickerBadge-name-2lNn5",circle:"SitePickerBadge-circle-34rFi"}},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/index.js":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/alt-utils/lib/connectToStores.js");var v=a("./src/main/webapp/universal/src/apps/App/shared/stores/AuthenticatedAccountStore.js");var h=a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteSummariesStore.js");var s=a("./src/main/webapp/universal/src/shared/utils/appDomainUtils.js"),b=s.getAppDomain;var A=a("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteStore/index.js");var g=a("./src/main/webapp/frontend/packages/enums/MemberAccountGuild.js");var n=a("./src/main/webapp/universal/src/apps/App/shared/utils/accountUtils.ts"),R=n.getBadgeDisplayName,j=n.getInitials;var o=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/SitePickerBadge/SitePickerBadge.jsx");var i=r({getStores:function e(){return[v,A,h]},getPropsFromStores:function e(){var t=v.getState().toJS(),a=t.avatarAssetUrl,r=t.displayName,s=t.guilds,n=t.email,o=t.id,i=t.firstName,c=t.lastName;var l=A.getState();var p=l.get("identifier");var u=l.get("websiteType");var m=b();var d=h.getWebsiteSummaries();var f=s&&s[g.CIRCLE_USER];return{avatarAssetUrl:a,memberAccountId:o,displayName:R(r),initials:j(i,c,n),isCircle:f,email:n,currentWebsiteIdentifier:p,currentWebsiteType:u,appDomain:m,items:d,hasItemsLoaded:!!d}}},o);e.exports=i},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/components/ProductCollectionMigrationCard.js":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(a("./common/temp/node_modules/react/index.js"));var n=a("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/index.js");var o=a("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var i=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var c=r(a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js"));var l=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var p=a("./src/main/webapp/universal/src/shared/utils/commerce/analytics/trackNestedCategory.ts");var u=r(a("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/hooks/useTrackView.js"));var m=function e(t){var a=t.handleDismissCard;(0,u.default)(p.trackUserViewsNestedCategoriesCard);return s.default.createElement(o.Card,{elevation:0,mt:4},s.default.createElement(o.Card.Body,null,s.default.createElement(i.Flex,{justifyContent:"space-between"},s.default.createElement(i.Text.Subtitle,{my:0},(0,l.t)("Weâ€™ve Improved Products")),s.default.createElement(i.Touchable,{onClick:function e(){(0,p.trackUserClosesNestedCategoriesCard)();a()}},s.default.createElement(n.CrossLarge,null))),s.default.createElement(i.Text.Body,{color:"gray.400"},(0,l.t)("Upgrade your product pages with powerful categories, better SEO, and much more.")),s.default.createElement(i.Button.Tertiary,{onClick:function e(){(0,p.trackUserClicksNestedCategoriesCard)();c.default.openNestedCategoriesMigrationModal()}},(0,l.t)("Start upgrade"))))};var d=m;t.default=d;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/index.jsx":function(e,t,a){"use strict";var r=a("./src/main/webapp/universal/src/apps/App/screens/Root/components/RootFooter/RootFooter.jsx");e.exports=r},"./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/AccountBadge.less":function(e,t,a){e.exports={avatar:"AccountBadge-avatar-1Py9e",circle:"AccountBadge-circle-1EMuy"}},"./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/AccountBadge.tsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var p=r(a("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var s=r(a("./common/temp/node_modules/prop-types/index.js"));var m=r(a("./common/temp/node_modules/react/index.js"));var n=r(a("./src/main/webapp/frontend/packages/enums/StatusConstants.js"));var o=r(a("./src/main/webapp/frontend/packages/enums/Flag.js"));var d=a("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var f=r(a("./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.jsx"));var v=r(a("./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.jsx"));var h=r(a("./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/AccountBadge.less"));var b=a("./src/main/webapp/universal/src/shared/i18n/index.ts");var i=r(a("./src/main/webapp/universal/src/apps/App/shared/utils/BetaFeaturesUtils.ts"));function A(){var e=window.Static.SQUARESPACE_CONTEXT,t=e.impersonatedSession,a=e.website;if(t)return true;if(a.siteStatus.value===n.default.INTERNAL&&!i.default.isFeatureEnabled(o.default.REVEAL_USER_INFORMATION))return true;return false}function c(e){var t=e.onAvatarClick,a=e.avatarAssetUrl,r=e.displayName,s=e.isCircle,n=e.initials,o=e.email,i=(0,u.default)(e,["onAvatarClick","avatarAssetUrl","displayName","isCircle","initials","email"]);var c=o;var l=r;if(A()){c="support@squarespace.com";l=(0,b.t)("Squarespace Support")}return m.default.createElement(d.Flex,(0,p.default)({alignItems:"center"},i),m.default.createElement(d.Box,{mr:3,position:"relative"},m.default.createElement(f.default,{className:h.default.avatar,initials:n,avatarUrl:a,onClick:t}),s&&m.default.createElement(v.default,{className:h.default.circle})),m.default.createElement(d.Touchable,{onClick:t,interaction:d.Touchable.WithoutFeedback},m.default.createElement(d.Flex,{flexDirection:"column",alignItems:"flex-start",overflow:"hidden",sx:{whiteSpace:"nowrap"}},m.default.createElement(g,{fontWeight:"medium"},l),m.default.createElement(g,{fontWeight:"book",color:"gray.300"},c))))}var g=function e(t){return m.default.createElement(d.Text.Body,(0,p.default)({my:0,fontSize:2,lineHeight:1,overflow:"hidden",sx:{textOverflow:"ellipsis"}},t))};c.propTypes={onAvatarClick:s.default.func,displayName:s.default.string.isRequired,initials:s.default.string,email:s.default.string,isCircle:s.default.bool,avatarAssetUrl:s.default.string};var l=c;t.default=l;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/index.ts":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(a("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var l=r(a("./src/main/webapp/universal/src/apps/App/shared/stores/AuthenticatedAccountStore.js"));var p=r(a("./src/main/webapp/frontend/packages/enums/MemberAccountGuild.js"));var u=a("./src/main/webapp/universal/src/apps/App/shared/utils/accountUtils.ts");var n=r(a("./src/main/webapp/universal/src/apps/App/shared/components/AccountBadge/AccountBadge.tsx"));var o=(0,s.default)({getStores:function e(){return[l.default]},onAvatarClick:function e(){window.location.href=u.accountDashboardUrl},getPropsFromStores:function e(){var t=l.default.getState().toJS(),a=t.displayName,r=t.guilds,s=t.firstName,n=t.lastName,o=t.email,i=t.avatarAssetUrl;var c=r&&r[p.default.CIRCLE_USER];return{displayName:(0,u.getBadgeDisplayName)(a),initials:(0,u.getInitials)(s,n,o),isCircle:c,avatarAssetUrl:i,onAvatarClick:this.onAvatarClick.bind(this),email:o}}},n.default);t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/AccountModal.jsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=r(a("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=r(a("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var c=r(a("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var l=r(a("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var p=r(a("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function m(s){var n=d();return function e(){var t=(0,p.default)(s),a;if(n){var r=(0,p.default)(this).constructor;a=Reflect.construct(t,arguments,r)}else a=t.apply(this,arguments);return(0,l.default)(this,a)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var s=a("./common/temp/node_modules/prop-types/index.js");var g=a("./common/temp/node_modules/react/index.js");var f=a("./src/main/webapp/universal/src/shared/i18n/index.ts"),R=f.t;var v=a("./src/main/webapp/universal/src/shared/i18n/react.ts"),j=v.T;var C=a("./src/main/webapp/universal/src/shared/stores/AccessPermissionStore.js");var h=a("./src/main/webapp/universal/src/apps/App/shared/actions/WebsiteSummariesActions.js");var w=a("./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.jsx");var b=a("./src/main/webapp/universal/src/shared/components/Alert.jsx");var y=a("./src/main/webapp/universal/src/shared/components/WebsiteList/index.jsx");var A=a("./src/main/webapp/universal/src/shared/components/Confirmation.jsx");var N=a("./src/main/webapp/universal/src/shared/components/Modal/index.jsx");var x=a("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/index.jsx");var E=a("./common/temp/node_modules/@sqs/fields/lib/index.js"),_=E.Search;var S=a("./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.jsx");var I=a("./src/main/webapp/universal/src/apps/App/shared/components/AccountModal.less");var k=function(e){(0,i.default)(s,e);var r=m(s);function s(){var i;(0,n.default)(this,s);for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];i=r.call.apply(r,[this].concat(t));(0,u.default)((0,c.default)(i),"state",{searchString:"",filteredItems:i.props.items||[]});(0,u.default)((0,c.default)(i),"getOnItemSelect",function(){var e=i.props.onItemSelect;if(e)return e;return i.handleSelect});(0,u.default)((0,c.default)(i),"doSearch",function(e){i.setState({searchString:e});h.filter(e)});(0,u.default)((0,c.default)(i),"handleSelect",function(e,t){if(t){var a=i.props.onRequestClose;a&&a();return}window.open("https://".concat(e.identifier,".").concat(i.props.appDomain,"/config"),"_blank")});(0,u.default)((0,c.default)(i),"handleDelete",function(e){i.setState({isConfirmationOpen:true,itemInDeletion:e})});(0,u.default)((0,c.default)(i),"onDeleteConfirm",function(){var e=i.state.itemInDeletion;h.delete(e.id);i.setState({isConfirmationOpen:false,itemInDeletion:null})});(0,u.default)((0,c.default)(i),"onDeleteCancel",function(){i.setState({isConfirmationOpen:false,itemInDeletion:null})});(0,u.default)((0,c.default)(i),"handleRemoveAccess",function(e){i.setState({isConfirmationOpen:true,itemInAccessRemoval:e})});(0,u.default)((0,c.default)(i),"onRemoveAccessConfirm",function(){var e=i.state.itemInAccessRemoval;h.removeAccess(e.id);i.setState({isConfirmationOpen:false,itemInAccessRemoval:null})});(0,u.default)((0,c.default)(i),"onRemoveAccessCancel",function(){i.setState({isConfirmationOpen:false,itemInAccessRemoval:null})});(0,u.default)((0,c.default)(i),"onCreateSite",function(){var e=i.props,t=e.currentWebsiteIdentifier,a=e.appDomain;window.open("https://www.".concat(a,"/websites?source=").concat(t,"&channel=account-picker"))});(0,u.default)((0,c.default)(i),"onGoToAdmin",function(){var e=i.props,t=e.currentWebsiteIdentifier,a=e.appDomain;var r=(true,"customersupport");window.open("https://".concat(r,".").concat(a,"/squarespace-admin/support/site/").concat(t))});(0,u.default)((0,c.default)(i),"renderConfirmation",function(){var e=i.state,t=e.itemInAccessRemoval,a=e.itemInDeletion,r=e.isConfirmationOpen;if(!t&&!a)return false;if(t)return g.createElement(A,{isOpen:r,title:R("Remove Site Access"),onConfirm:i.onRemoveAccessConfirm,onCancel:i.onRemoveAccessCancel},g.createElement(j,{project:"apps.App"},"Are you sure you want to remove yourself from this site? Please note that the site owner and other site administrators will continue to have access to the site."));if(a)return g.createElement(b,{isOpen:r,title:R("Deactivate Site"),dismissText:R("Okay!"),onDismiss:i.onDeleteCancel},g.createElement(j,{siteManagerLink:g.createElement("a",{target:"_blank",href:"".concat(a.url,"/config/settings/billing/billing")},g.createElement(j,{project:"apps.App"},"site manager")),project:"apps.App"},"Please delete this site via the {siteManagerLink}."));return null});(0,u.default)((0,c.default)(i),"renderAlert",function(){var e=i.state,t=e.removeAccessFailure,a=e.deleteFailure,r=e.errorMessage,s=e.isAlertOpen;if(!t&&!a)return false;var n="";var o="";if(a){n=R("Error Removing Site");o=r||R("Failed to remove site")}else if(t){n=R("Error Removing Access");o=r||R("There was an error removing access")}return g.createElement(b,{isOpen:s,onDismiss:i.onAlertDismiss,title:n},o)});return i}(0,o.default)(s,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){var a=t.isOpen,r=t.items;this.setState({filteredItems:r||[]})}},{key:"render",value:function e(){var t=this.props,a=t.memberAccountId,r=t.name,s=t.isCircle,n=t.avatarAssetUrl,o=t.onRequestClose,i=t.onLogout,c=t.isOpen,l=t.hasItemsLoaded,p=t.currentWebsiteIdentifier,u=t.onItemSelect,m=t.addIndicator,d=t.appDomain,f=t.initials;var v=this.state,h=v.searchString,b=v.filteredItems;var A=m&&{label:R("Create new site"),onClick:this.onCreateSite};return g.createElement(N,{anchor:"window",isOpen:c,width:"100%",height:"100%",className:I.modal,overlayClassName:I.overlay,onRequestClose:o},g.createElement(N.Header,{className:I.header},g.createElement("div",{className:I.profile},g.createElement("div",{className:I.profileWrapper},g.createElement(w,{className:I.avatar,initials:f,avatarUrl:n}),g.createElement("div",{className:I.right},g.createElement("div",{className:I.profileInfo},g.createElement("span",{className:I.name},r)),g.createElement("div",{className:I.actionsContainer},s&&g.createElement(S,{className:I.circle}),C.isAdmin()&&g.createElement("div",{className:I.admin},g.createElement("div",{onClick:this.onGoToAdmin},g.createElement("a",null,g.createElement(j,{project:"apps.App"},"Admin"))),g.createElement("span",null," Â Â Â Â  ")),g.createElement("div",{className:I.editProfile},g.createElement(x,{authorId:a,currentUserId:a})),g.createElement("span",null," Â Â Â Â  "),g.createElement("div",{className:I.logout,onClick:i},g.createElement("a",null,g.createElement(j,{project:"apps.App"},"Logout"))))))),g.createElement("div",{className:I.search},g.createElement(_,{onChange:this.doSearch,value:h,placeholder:R("Search sites and domains")})),g.createElement("div",{className:I.closeWrapper},g.createElement("div",{className:I.closeButton,onClick:o}))),g.createElement(N.Body,{className:I.body,ref:"modalBody"},l&&g.createElement(y,{memberAccountId:a,items:b,deleteEnabled:true,onItemSelect:u||this.handleSelect,onItemDelete:this.handleDelete,onItemRemoveAccess:this.handleRemoveAccess,currentWebsiteIdentifier:p,appDomain:d,addIndicator:A}),this.renderConfirmation(),this.renderAlert()))}}]);return s}(g.Component);(0,u.default)(k,"propTypes",{isOpen:s.bool,onRequestClose:s.func,onLogout:s.func,memberAccountId:s.string.isRequired,name:s.string.isRequired,isCircle:s.bool,avatarAssetUrl:s.string,currentWebsiteIdentifier:s.string,items:s.array,hasItemsLoaded:s.bool,onItemSelect:s.func,appDomain:s.string,addIndicator:s.bool,initials:s.string.isRequired});e.exports=k},"./src/main/webapp/universal/src/apps/App/shared/components/AccountModal.less":function(e,t,a){e.exports={overlay:"AccountModal-overlay-gBYHh accountModal-overlay-3u3bt",modal:"AccountModal-modal-3PxRM accountModal-modal-2okme animations-riseandfadein-2LEqu",profile:"AccountModal-profile-8GT9z",search:"AccountModal-search-4KnRe",header:"AccountModal-header-1ZlRK",body:"AccountModal-body-f3BUK",profileWrapper:"AccountModal-profileWrapper-1SWni",avatar:"AccountModal-avatar-1l1ui",right:"AccountModal-right-IMjsd",profileInfo:"AccountModal-profileInfo-38w1O",name:"AccountModal-name-6FPe1",email:"AccountModal-email-3G1rF",actionsContainer:"AccountModal-actionsContainer-17I2V",circle:"AccountModal-circle-nISHa",admin:"AccountModal-admin-1fxem",editProfile:"AccountModal-editProfile-39doM",logout:"AccountModal-logout-14ajY",closeWrapper:"AccountModal-closeWrapper-1PCe3 accountModal-closeWrapper-2wtdk",closeButton:"AccountModal-closeButton-3Ehy7 accountModal-closeButton-BD1Ls icons-clear-3iHX5"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.jsx":function(e,t,a){"use strict";var r=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var i=r(a("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var c=a("./common/temp/node_modules/classnames/index.js");var s=a("./common/temp/node_modules/prop-types/index.js");var l=a("./common/temp/node_modules/react/index.js");var p=a("./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.less");function n(e){var t=e.initials,a=e.avatarUrl,r=e.className,s=e.onClick;var n=null;a&&(n={backgroundImage:"url(".concat(a,")")});var o=c(p.container,r,(0,i.default)({},p.clickable,s));return l.createElement("div",{className:o,style:n,onClick:s},!a&&t)}n.propTypes={initials:s.string.isRequired,avatarUrl:s.string,className:s.string,onClick:s.func};e.exports=n},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileAvatar.less":function(e,t,a){e.exports={container:"ProfileAvatar-container-OoMLJ",clickable:"ProfileAvatar-clickable-2ldL_"}},"./src/main/webapp/universal/src/apps/App/shared/utils/accountUtils.ts":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getInitials=t.getBadgeDisplayName=t.accountDashboardUrl=void 0;var r=a("./src/main/webapp/universal/src/shared/utils/appDomainUtils.js");var s=function e(){var t=(0,r.getAppDomain)();return"https://account.".concat(t)};var n=s();t.accountDashboardUrl=n;var o=function e(t){var a;if((null===(a=t)||void 0===a?void 0:a.length)>1&&"Your Name"!==t){var r=t.split(" ");var s=r[1]?" "+r[1]:"";t=r[0]+s}return t};t.getBadgeDisplayName=o;var i=function e(t,a,r){var s="";t&&(s+=t[0]);a&&(s+=a[0]);!s&&r&&(s=r[0]);return s};t.getInitials=i}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/54-f7b61c3942aa35ae2010b-min.en-US.js.map