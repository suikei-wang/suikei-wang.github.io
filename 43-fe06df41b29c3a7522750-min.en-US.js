(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([[43],{"./src/main/webapp/universal/src/apps/App/shared/actions/ProfileModalActions.js":function(e,t,r){"use strict";var a=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var s=a(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=a(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=r("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var i=r("./src/main/webapp/universal/src/apps/App/shared/utils/ContributorsAPI.js");var l=r("./src/main/webapp/universal/src/apps/App/shared/actions/PermissionsActions.js");var u=r("./src/main/webapp/universal/src/apps/App/shared/stores/AuthenticatedAccountStore.js");var c=r("./src/main/webapp/universal/src/apps/App/shared/stores/ContentItemStore.js");var p=r("./src/main/webapp/universal/src/apps/App/shared/stores/PermissionsStore.js");var m=function(){function e(){(0,s.default)(this,e);this.generateActions("setActiveProfileModal","fetchAvatar","updateValues","updateAvatar","resetChanges","openDeleteBasicAuthorConfirmation","clearErrorMessage","updateErrors","cancel","closeReviewChanges","closeRemoveAuthor")}(0,n.default)(e,[{key:"reset",value:function e(){var t=this;var r=u.getState().toObject();r.avatarId&&c.fetchFromServer(r.avatarId,true).then(function(e){t.fetchAvatar({authorId:r.id,value:{id:e.get("id"),url:e.get("assetUrl")}})});return[r].concat(p.fetchMembers())}},{key:"saveAuthor",value:function e(t,r){if("none"===t)l.createAuthor(r);else{r.id=t;l.updateAuthor(r)}}},{key:"deleteBasicAuthor",value:function e(t,r){i.replaceBasicAuthor(t,r).then(function(){return l.deleteAuthor(t)})}}]);return e}();e.exports=o.createActions(m)},"./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.jsx":function(e,t,r){"use strict";var a=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var s=a(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=a(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=a(r("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var i=a(r("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=a(r("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=a(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function c(s){var n=p();return function e(){var t=(0,l.default)(s),r;if(n){var a=(0,l.default)(this).constructor;r=Reflect.construct(t,arguments,a)}else r=t.apply(this,arguments);return(0,i.default)(this,r)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var m=r("./common/temp/node_modules/prop-types/index.js");var d=r("./common/temp/node_modules/react/index.js");var f=r("./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.less");var h=r("./src/main/webapp/universal/src/shared/i18n/react.ts"),v=h.T;var b=r("./common/temp/node_modules/classnames/index.js");var A="http://circle.squarespace.com/dashboard?channel=web_circle&subchannel=activation&source=cms&campaign=panel_logo&utm_medium=web_circle&utm_source=activation&utm_campaign=cms&utm_content=panel_logo";var y=function(e){(0,o.default)(r,e);var t=c(r);function r(){(0,s.default)(this,r);return t.apply(this,arguments)}(0,n.default)(r,[{key:"render",value:function e(){return d.createElement("a",{className:b(f.container,this.props.className),href:A,target:"_blank"},d.createElement(v,{project:"apps.App"},"Squarespace Circle"))}}]);return r}(d.Component);(0,u.default)(y,"propTypes",{className:m.string});e.exports=y},"./src/main/webapp/universal/src/apps/App/shared/components/CircleBadge.less":function(e,t,r){e.exports={container:"CircleBadge-container-2L5x9 icons-circleLogoDark-1kp7z"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/ProfileModal.jsx":function(e,t,r){"use strict";var a=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=a(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=a(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=a(r("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=a(r("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var u=a(r("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=a(r("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var m=a(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,a)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),true).forEach(function(e){(0,m.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function p(s){var n=f();return function e(){var t=(0,c.default)(s),r;if(n){var a=(0,c.default)(this).constructor;r=Reflect.construct(t,arguments,a)}else r=t.apply(this,arguments);return(0,u.default)(this,r)}}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var h=r("./common/temp/node_modules/prop-types/index.js");var v=r("./common/temp/node_modules/react/index.js");var b=r("./common/temp/node_modules/@sqs/transitions/lib/index.js"),A=b.CSSTransitionGroup,y=b.CSSTransitionGroupPresets;var g=r("./common/temp/node_modules/@sqs/fields/lib/index.js"),j=g.Select;var S=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),C=S.t;var O=r("./src/main/webapp/universal/src/shared/i18n/react.ts"),w=O.T;var P=r("./src/main/webapp/universal/src/shared/components/Alert.jsx");var E=r("./src/main/webapp/universal/src/shared/components/Confirmation.jsx");var I=r("./src/main/webapp/universal/src/shared/components/Modal/index.jsx");var _=r("./src/main/webapp/universal/src/shared/components/ReviewChangesConfirmation.jsx");var R=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AccountTab.jsx");var x=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/BioTab.jsx");var M=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/ProfileModalHeader.jsx");var T=r("./src/main/webapp/universal/src/apps/App/shared/actions/ProfileModalActions.js");var N=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/ProfileModal.less");var k=["account","bio"];var D={tab:"account",isBack:false,isChangePasswordOpen:false,isTransferAuthorOpen:false,newAuthor:""};var U=function(e){(0,l.default)(s,e);var a=p(s);function s(){var p;(0,n.default)(this,s);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];p=a.call.apply(a,[this].concat(t));(0,m.default)((0,i.default)(p),"state",D);(0,m.default)((0,i.default)(p),"reset",function(){T.reset();p.setState(D)});(0,m.default)((0,i.default)(p),"changeTab",function(e){p.setState({isBack:k.indexOf(e)<k.indexOf(p.state.tab),tab:e})});(0,m.default)((0,i.default)(p),"closeTransferAuthorHandler",function(){p.setState({isTransferAuthorOpen:false})});(0,m.default)((0,i.default)(p),"openTransferAuthorHandler",function(){p.setState({isTransferAuthorOpen:true})});(0,m.default)((0,i.default)(p),"closeReviewChangesHandler",function(){T.closeReviewChanges()});(0,m.default)((0,i.default)(p),"closeRemoveAuthorHandler",function(){T.closeRemoveAuthor()});(0,m.default)((0,i.default)(p),"onCancel",function(){p.props.isDirty?T.cancel():T.setActiveProfileModal()});(0,m.default)((0,i.default)(p),"linkState",function(s,n,o){return{onChange:function e(t){var r=t.target?t.target.value:t;var a=d({},p.props.errors,(0,m.default)({},s,""));n&&r&&!n(r)&&(a[s]=o);T.updateErrors({errors:a});p.updateAuthorAttribute(s,r)},value:p.props[s],errorMessage:p.props.errors[s]}});(0,m.default)((0,i.default)(p),"updateSubscription",function(e,t,r){var a=p.props[e];a[t].subscribed=r;p.updateAuthorAttribute(e,a)});(0,m.default)((0,i.default)(p),"updateAuthorAttribute",function(e,t){T.updateValues({key:e,value:t,id:p.props.authorId})});(0,m.default)((0,i.default)(p),"discardHandler",function(){T.setActiveProfileModal();p.reset()});(0,m.default)((0,i.default)(p),"openDeleteConfirmationHandler",function(){T.openDeleteBasicAuthorConfirmation()});(0,m.default)((0,i.default)(p),"deleteHandler",function(){T.setActiveProfileModal();T.deleteBasicAuthor(p.props.authorId,p.state.newAuthor)});(0,m.default)((0,i.default)(p),"saveHandler",function(){var e=p.props,t=e.authorId,r=e.avatarId,a=e.avatarAssetUrl,s=e.bio,n=e.displayName,o=e.firstName,i=e.lastName,l=e.websiteUrl;var u={avatarAssetUrl:a,avatarId:r,bio:s,displayName:n,firstName:o,lastName:i,pseudonymAccount:true,websiteUrl:l};var c=p.props.errors;c.displayName=""===n?C("Missing display name"):null;Object.keys(c).forEach(function(e){c[e]&&""!==c[e]&&(c.saveError=c[e])});if(c.saveError){T.updateErrors({errors:c});return}T.saveAuthor(t,u)});(0,m.default)((0,i.default)(p),"renderTransferAuthorConfirmation",function(){var e=p.props,t=e.authorId,r=e.authors,a=e.displayName;var s=p.state,n=s.newAuthor,o=s.isTransferAuthorOpen;return v.createElement(E,{testAttr:"transfer-author",isOpen:o,onConfirm:p.openDeleteConfirmationHandler,onCancel:p.closeTransferAuthorHandler,confirmText:C("Transfer And Remove"),title:C("Remove Author")},v.createElement(w,{strongDisplayName:v.createElement("strong",null,a),project:"apps.App"},"{strongDisplayName} may be listed as the author of content on your site. To remove this author, please select an author to re-assign ownership to."),v.createElement(j,{type:"primary",onChange:function e(t){p.setState({newAuthor:t})},value:n},r.map(function(e){if(e.id!==t)return v.createElement("option",{key:e.id,value:e.id},e.displayName);return null}).filter(function(e){return!!e}).concat(v.createElement("option",{key:"default-option",value:""},C("Select a new author…")))))});(0,m.default)((0,i.default)(p),"renderRemoveButton",function(){var e=p.props,t=e.authorId,r=e.isRemoveAuthorOpen;if("none"!==t)return v.createElement(I.Button,{"data-test":"remove-author",onClick:p.openTransferAuthorHandler},v.createElement(w,{project:"apps.App"},"Remove Author"),v.createElement(E,{testAttr:"confirm-transfer",isOpen:r,onConfirm:p.deleteHandler,onCancel:p.closeRemoveAuthorHandler,label:C("Remove Author"),overlayClassName:N.doubleConfirmation},v.createElement(w,{project:"apps.App"},"Are you sure you wish to remove this author and re-assign all authored entries to someone else? This cannot be undone.")))});(0,m.default)((0,i.default)(p),"renderFooter",function(){var e=p.props,t=e.errors,r=e.isReviewChangesOpen;return v.createElement(I.Footer,null,v.createElement(I.Button,{"data-test":"cancel-profile-modal",onClick:p.onCancel},v.createElement(w,{project:"apps.App"},"Cancel")),p.renderRemoveButton(),v.createElement(_,{isOpen:r,onCancel:p.closeReviewChangesHandler,onDiscard:p.discardHandler,onSave:p.saveHandler}),v.createElement(I.Button,{"data-test":"save-profile-modal",onClick:p.saveHandler,className:N.saveButton},v.createElement(w,{project:"apps.App"},"Save"),v.createElement(P,{isOpen:!!t.saveError,onDismiss:function e(){T.clearErrorMessage("saveError")},title:C("Error")},t.saveError)),p.renderTransferAuthorConfirmation())});return p}(0,o.default)(s,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){var r=!t.isOpen&&this.props.isOpen;var a=t.isOpen&&!this.props.isOpen;r&&this.props.onModalClose&&this.props.onModalClose();(t.authorId!==this.props.authorId||"none"===this.props.authorId&&a)&&this.setState(D);a&&T.reset.defer()}},{key:"shouldComponentUpdate",value:function e(t){return!t.currentlyOpenAuthorId||t.currentlyOpenAuthorId===t.authorId}},{key:"render",value:function e(){var t=this.props,r=t.authorId,a=t.avatarAssetUrl,s=t.avatarId,n=t.displayName,o=t.isOpen;var i=this.state,l=i.tab,u=i.isBack;var c=y.Slide,p=c.className,m=c.transitions;var d={account:v.createElement(R,{key:"account",avatarId:s,avatarAssetUrl:a,displayName:n,linkState:this.linkState,stylesheet:N,authorId:r}),bio:v.createElement(x,{key:"bio",linkState:this.linkState})};return v.createElement(I,{isOpen:o,width:"700px",height:"587px",onRequestClose:this.onCancel,testAttr:"profile-modal"},v.createElement(M,{activeTab:l,changeTab:this.changeTab,stylesheet:N}),v.createElement(A,{className:p,transitions:u?m.toRight:m.toLeft},v.createElement(I.Body,{key:l,className:N.body},d[l])),this.renderFooter())}}]);return s}(v.Component);(0,m.default)(U,"propTypes",{authorId:h.string,authors:h.array,bio:h.string,displayName:h.string,firstName:h.string,lastName:h.string,isOpen:h.bool.isRequired,avatarAssetUrl:h.string,avatarId:h.string,websiteUrl:h.string,errors:h.object,isRemoveAuthorOpen:h.bool,isReviewChangesOpen:h.bool,isDirty:h.bool,onModalClose:h.func});(0,m.default)(U,"defaultProps",{authorId:"none",authors:[],avatarAssetUrl:null,avatarId:null,bio:"",displayName:"",errors:{},isDirty:false,isRemoveAuthorOpen:false,isReviewChangesOpen:false});e.exports=U},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/ProfileModal.less":function(e,t,r){e.exports={header:"ProfileModal-header-HfRQH",body:"ProfileModal-body-2w6Kt",modalTabs:"ProfileModal-modalTabs-1-ZQ8",tab:"ProfileModal-tab-S1enw",active:"ProfileModal-active-1xpFW",doubleConfirmation:"ProfileModal-doubleConfirmation-36Dsf",profileInputs:"ProfileModal-profileInputs-3z0aY",uploader:"ProfileModal-uploader-2ZnoD",ownerDetails:"ProfileModal-ownerDetails-1-6FP",actionButtons:"ProfileModal-actionButtons-2ImyI",action:"ProfileModal-action-_2cTz",saveButton:"ProfileModal-saveButton-2er2u"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AccountTab.jsx":function(e,t,r){"use strict";var a=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var l=a(r("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var o=a(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=a(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var u=a(r("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var c=a(r("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var p=a(r("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var m=a(r("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=a(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function f(s){var n=h();return function e(){var t=(0,m.default)(s),r;if(n){var a=(0,m.default)(this).constructor;r=Reflect.construct(t,arguments,a)}else r=t.apply(this,arguments);return(0,p.default)(this,r)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var s=r("./common/temp/node_modules/prop-types/index.js");var v=r("./common/temp/node_modules/react/index.js");var n=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),b=n.t;var A=r("./common/temp/node_modules/@sqs/fields/lib/index.js"),y=A.Input;var g=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AvatarEditor.jsx");var j=r("./src/main/webapp/universal/src/apps/App/shared/actions/ProfileModalActions.js");var S=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AccountTab.less");var C=function(e){(0,c.default)(n,e);var s=f(n);function n(){var e;(0,o.default)(this,n);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];e=s.call.apply(s,[this].concat(r));(0,d.default)((0,u.default)(e),"state",{email:e.props.email,isSuccesfulChangeOpen:false,errors:{}});(0,d.default)((0,u.default)(e),"openSuccessfulChange",function(){e.setState({isSuccesfulChangeOpen:true,isEditEmailOpen:false})});(0,d.default)((0,u.default)(e),"closeSuccessfulChange",function(){e.setState({isSuccesfulChangeOpen:false})});return e}(0,i.default)(n,[{key:"render",value:function e(){var t=this.props,r=t.authorId,a=t.displayName,s=t.avatarId,n=t.avatarAssetUrl,o=t.linkState,i=t.stylesheet;return v.createElement("div",{className:S.accountTab,"data-test":"account-tab"},v.createElement("div",{className:i.uploader},v.createElement(g,{authorId:r,avatarId:s,avatarAssetUrl:n,onChange:j.updateAvatar})),v.createElement("div",{className:i.profileInputs},v.createElement(y,(0,l.default)({placeholder:b("Your Name"),value:a},o("displayName")))))}}]);return n}(v.Component);(0,d.default)(C,"propTypes",{avatar:s.object,authorId:s.string,displayName:s.string,linkState:s.func.isRequired,stylesheet:s.object.isRequired});e.exports=C},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AccountTab.less":function(e,t,r){e.exports={accountTab:"AccountTab-accountTab-DwEkf"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AvatarEditor.jsx":function(e,t,r){"use strict";var a=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var n=a(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=a(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=a(r("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=a(r("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var u=a(r("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=a(r("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=a(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function m(s){var n=d();return function e(){var t=(0,c.default)(s),r;if(n){var a=(0,c.default)(this).constructor;r=Reflect.construct(t,arguments,a)}else r=t.apply(this,arguments);return(0,u.default)(this,r)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var s=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),f=s.t;var h=r("./common/temp/node_modules/prop-types/index.js");var v=r("./common/temp/node_modules/react/index.js");var b=r("./common/temp/node_modules/classnames/index.js");var A=r("./src/main/webapp/universal/src/shared/components/fields/File.jsx");var y=r("./src/main/webapp/universal/src/shared/components/JobProcessingState/index.js");var g=r("./src/main/webapp/universal/src/shared/components/Image.jsx");var j=r("./src/main/webapp/universal/src/shared/utils/UploadAPI.js"),S=j.URLS;var C=r("./src/main/webapp/frontend/packages/enums/RecordType.js");var O=r("./src/main/webapp/universal/src/shared/constants/UploadModes.js");var w=r("./src/main/webapp/universal/src/shared/constants/UploadMaxSize.js"),P=w.MAX_SIZE;var E=r("./src/main/webapp/universal/src/shared/constants/UploadMimeTypes.js"),I=E.IMAGE_MIME_TYPES;var _=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AvatarEditor.less");var R=function(e){(0,l.default)(s,e);var a=m(s);function s(){var o;(0,n.default)(this,s);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o=a.call.apply(a,[this].concat(t));(0,p.default)((0,i.default)(o),"state",{processingJobId:null});(0,p.default)((0,i.default)(o),"handleFileFieldChange",function(e){var t=o.props.avatarId;!e&&t?o.onImageChange({}):e&&o.handleUploadComplete(e)});(0,p.default)((0,i.default)(o),"handleUploadComplete",function(e){var t=e.data;var r=t.processingJobId,a=t.imageId,s=t.url;o.setState({processingJobId:r});o.onImageChange({avatarId:a,avatarAssetUrl:s})});(0,p.default)((0,i.default)(o),"onImageChange",function(e){var t=e.avatarId,r=e.avatarAssetUrl;var a=o.props,s=a.onChange,n=a.authorId;s({authorId:n,avatarId:t,avatarAssetUrl:r})});(0,p.default)((0,i.default)(o),"valueOfFile",function(e){var t=e.avatarId,r=e.avatarAssetUrl;if(t)return{id:t,url:r};return null});(0,p.default)((0,i.default)(o),"renderJobProcessingState",function(){return v.createElement(y,{jobId:o.state.processingJobId,onJobComplete:function e(){return o.setState({processingJobId:null})},onJobIncomplete:function e(){return o.onImageChange({})}})});(0,p.default)((0,i.default)(o),"renderImage",function(){return v.createElement(g,{src:o.props.avatarAssetUrl,formattedWidths:null})});return o}(0,o.default)(s,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){!t.avatarId&&this.props.avatarId&&this.setState({processingJobId:null})}},{key:"render",value:function e(){var t=this.state.processingJobId;var r=this.props,a=r.avatarId,s=r.avatarAssetUrl;var n=t?this.renderJobProcessingState:this.renderImage;var o=b(_.fileField,(0,p.default)({},_.hasValue,a&&!t));return v.createElement(A,{label:f("Add an Image"),innerContainerClassName:o,fileThumbnailRenderer:n,validMimeTypes:I,maxSize:P,uploadUrl:S.AVATAR,recordType:C.IMAGE,uploadMode:O.GLOBAL,onChange:this.handleFileFieldChange,value:this.valueOfFile({avatarId:a,avatarAssetUrl:s})})}}]);return s}(v.Component);(0,p.default)(R,"propTypes",{avatarId:h.string,avatarAssetUrl:h.string,authorId:h.string,onChange:h.func.isRequired});e.exports=R},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/AvatarEditor.less":function(e,t,r){e.exports={fileField:"AvatarEditor-fileField-3WSzz",hasValue:"AvatarEditor-hasValue-2tNGd"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/BioTab.jsx":function(e,t,r){"use strict";var a=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var s=a(r("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var n=a(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=a(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=a(r("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var l=a(r("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var u=a(r("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var c=a(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function p(s){var n=m();return function e(){var t=(0,u.default)(s),r;if(n){var a=(0,u.default)(this).constructor;r=Reflect.construct(t,arguments,a)}else r=t.apply(this,arguments);return(0,l.default)(this,r)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var d=r("./common/temp/node_modules/prop-types/index.js");var f=r("./common/temp/node_modules/react/index.js");var h=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),v=h.t;var b=r("./src/main/webapp/universal/src/shared/i18n/react.ts"),A=b.T;var y=r("./src/main/webapp/universal/src/shared/components/fields/TextEditor/index.js");var g=r("./common/temp/node_modules/@sqs/fields/lib/index.js"),j=g.Input;var S=r("./src/main/webapp/universal/src/shared/utils/validation/urlValidator.js");var C=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/BioTab.less");var O='Invalid URL Format. Should look like "http://www.example.com".';var w=function(e){(0,i.default)(r,e);var t=p(r);function r(){(0,n.default)(this,r);return t.apply(this,arguments)}(0,o.default)(r,[{key:"render",value:function e(){var t=this.props.linkState;return f.createElement("div",{"data-test":"bio-tab",className:C.container},f.createElement("div",{className:C.flexDiv},f.createElement(j,(0,s.default)({},t("firstName"),{wrapperClassName:C.halfInput,label:v("First Name")})),f.createElement(j,(0,s.default)({},t("lastName"),{wrapperClassName:C.halfInput,label:v("Last Name")}))),f.createElement(j,(0,s.default)({},t("websiteUrl",S,O),{label:v("Website")})),f.createElement("div",{className:C.bioLabel},f.createElement(A,{project:"apps.App"},"Bio")),f.createElement(y,t("bio")))}}]);return r}(f.Component);(0,c.default)(w,"propTypes",{linkState:d.func.isRequired});e.exports=w},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/BioTab.less":function(e,t,r){e.exports={container:"BioTab-container-23B9y",bioLabel:"BioTab-bioLabel-9u33A",flexDiv:"BioTab-flexDiv-158Um",halfInput:"BioTab-halfInput-1CZRk"}},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/components/ProfileModalHeader.jsx":function(e,t,r){"use strict";var a=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var s=a(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=a(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=a(r("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var i=a(r("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=a(r("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=a(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function c(s){var n=p();return function e(){var t=(0,l.default)(s),r;if(n){var a=(0,l.default)(this).constructor;r=Reflect.construct(t,arguments,a)}else r=t.apply(this,arguments);return(0,i.default)(this,r)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var m=r("./common/temp/node_modules/prop-types/index.js");var d=r("./common/temp/node_modules/react/index.js");var f=r("./common/temp/node_modules/classnames/index.js");var h=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),v=h.t;var b=r("./src/main/webapp/universal/src/shared/i18n/react.ts"),A=b.T;var y=r("./src/main/webapp/universal/src/shared/components/Modal/index.jsx");var g=function(e){(0,o.default)(r,e);var t=c(r);function r(){(0,s.default)(this,r);return t.apply(this,arguments)}(0,n.default)(r,[{key:"render",value:function e(){var t=this.props,r=t.activeTab,a=t.changeTab,s=t.stylesheet;var n=v("Add Basic Author");return d.createElement(y.Header,{hasRule:true,className:s.header},n,d.createElement("span",{className:s.modalTabs},d.createElement("span",{"data-test":"account-tab-nav",onClick:a.bind(null,"account"),className:f(s.tab,(0,u.default)({},s.active,"account"===r))},d.createElement(A,{project:"apps.App"},"Account")),d.createElement("span",{"data-test":"bio-tab-nav",onClick:a.bind(null,"bio"),className:f(s.tab,(0,u.default)({},s.active,"bio"===r))},d.createElement(A,{project:"apps.App"},"Bio"))))}}]);return r}(d.Component);(0,u.default)(g,"propTypes",{stylesheet:m.object,changeTab:m.func,activeTab:m.string});e.exports=g},"./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/index.jsx":function(e,t,r){"use strict";var a=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var s=a(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,a)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),true).forEach(function(e){(0,s.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var o=r("./common/temp/node_modules/alt-utils/lib/connectToStores.js");var l=r("./src/main/webapp/universal/src/apps/App/shared/components/ProfileModal/ProfileModal.jsx");var u=r("./src/main/webapp/universal/src/apps/App/shared/stores/ProfileModalStore.js");var c=o({getStores:function e(){return[u]},getPropsFromStores:function e(t){var r=t.authorId,a=void 0===r?"none":r;var s=u.getState();var n=s.getIn(["authorIdMap",a]);var o=i({authorId:a},s.toJS(),{isOpen:a===s.get("currentlyOpenAuthorId")});n&&Object.assign(o,n.toJS());return o}},l);e.exports=c},"./src/main/webapp/universal/src/apps/App/shared/stores/PermissionsStore.js":function(e,t,r){"use strict";var a=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var s=a(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var n=a(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=a(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,a)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),true).forEach(function(e){(0,s.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var u=r("./common/temp/node_modules/immutable/dist/immutable.js"),c=u.fromJS;var p=r("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var m=r("./src/main/webapp/universal/src/apps/App/shared/actions/PermissionsActions.js");var d=r("./common/temp/node_modules/alt-utils/lib/ImmutableUtil.js");var f=r("./src/main/webapp/universal/src/shared/i18n/index.ts"),h=f.t;var v=function(){function e(){(0,n.default)(this,e);this.state=c({basicAuthors:[],contributorsWithPermissions:[],contributorsWithoutPermissions:[],error:null,invitations:[],isLoading:true,websiteOwner:{}});this.bindActions(m);this.exportPublicMethods({fetchAllPermissions:this.fetchAllPermissions,fetchMembers:this.fetchMembers,fetchAllMembers:this.fetchAllMembers})}(0,o.default)(e,[{key:"onCreateInviteSuccess",value:function e(t){var r=this.state.get("invitations");this.setState(this.state.set("invitations",r.push(c(t))))}},{key:"onUpdateInviteSuccess",value:function e(t){var r=this.state.get("invitations");r=r.map(function(e){if(e.get("id")===t.id)return e.set("permissions",t.permissions);return e});this.setState(this.state.set("invitations",r))}},{key:"onDeleteInviteSuccess",value:function e(t){var r=this.state.get("invitations");r=r.filterNot(function(e){return e.get("id")===t});this.setState(this.state.set("invitations",r))}},{key:"convertArrayToObject",value:function e(t){var r={};t.forEach(function(e){r[e.id]=e});return r}},{key:"onUpdateContributorPermissionsSuccess",value:function e(t){var r=t.memberAccountId;var a=this.state.get("allContributors").toJS();var s=this.state.get("contributorsWithPermissions").toJS();var n=this.state.get("contributorsWithoutPermissions").toJS();a=this.convertArrayToObject(a);s=this.convertArrayToObject(s);n=this.convertArrayToObject(n);var o=s[r]||n[r];if(Object.keys(t.roles).length){s[r]=Object.assign({},o,{permissions:t.roles});delete n[r]}else{o.permissions=[];n[r]=Object.assign({},o);delete s[r]}a[r]=Object.assign({},o,{permissions:t.roles});this.setState(this.state.merge({allContributors:c(Object.values(a)),contributorsWithPermissions:c(Object.values(s)),contributorsWithoutPermissions:c(Object.values(n))}))}},{key:"onDeleteContributorSuccess",value:function e(r){var t=this.state.toObject(),a=t.contributorsWithPermissions,s=t.contributorsWithoutPermissions,n=t.allContributors;var o=function e(t){return t.get("permissionsId")===r};s=s.filterNot(o);a=a.filterNot(o);n=n.filterNot(o);this.setState(this.state.merge({contributorsWithoutPermissions:s,contributorsWithPermissions:a,allContributors:n}))}},{key:"onCreateAuthorSuccess",value:function e(t){var r=this.state.get("basicAuthors");this.setState(this.state.set("basicAuthors",r.push(c(l({},t,{isBasicAuthor:true,avatarId:t.avatarId,avatarAssetUrl:t.avatarAssetUrl})))))}},{key:"onUpdateAuthorSuccess",value:function e(t){this.updateBasicAuthorSuccess(l({},t,{isBasicAuthor:true,avatarId:t.avatarId,avatarAssetUrl:t.avatarAssetUrl}))}},{key:"updateOwnerSuccess",value:function e(t){var r=this.updateAuthorState(t,this.state.get("websiteOwner"));this.setState(this.state.set("websiteOwner",r))}},{key:"makeAuthorUpdater",value:function e(t){var r=this;return function(e){return r.updateAuthorState(t,e)}}},{key:"updateBasicAuthorSuccess",value:function e(t){var r=this.state.get("basicAuthors");var a=r.map(this.makeAuthorUpdater(t));this.setState(this.state.set("basicAuthors",a))}},{key:"updateContributorSuccess",value:function e(t){var r=this.state.toObject(),a=r.contributorsWithPermissions,s=r.contributorsWithoutPermissions;var n=this.makeAuthorUpdater(t);a=a.map(n);s=s.map(n);this.setState(this.state.merge({contributorsWithPermissions:a,contributorsWithoutPermissions:s}))}},{key:"onTransferOwnerSuccess",value:function e(t){var r;var a=this.state.get("websiteOwner");var s=this.state.get("contributorsWithPermissions");var n=this.state.get("allContributors");var o=s.map(function(e){if(e.get("id")===t){r=e;return a}return e});var i=n.map(function(e){if(e.get("id")===t){r=e;return a}return e});this.setState(this.state.merge({allContributors:i,contributorsWithPermissions:o,websiteOwner:r}))}},{key:"updateAuthorState",value:function e(t,r){if(r.get("id")===t.id)return r.merge(t);return r}},{key:"onDeleteAuthorSuccess",value:function e(t){var r=this.state.get("basicAuthors");r=r.filterNot(function(e){return e.get("id")===t});this.setState(this.state.set("basicAuthors",r))}},{key:"onReset",value:function e(t){var r=t.invitations,a=t.members;this.setState(c({basicAuthors:null,allContributors:[],contributorsWithPermissions:null,contributorsWithoutPermissions:null,isLoading:true,error:null,invitations:null,websiteOwner:null}))}},{key:"onResetSuccess",value:function e(t){var r=t.basicAuthors,a=t.allContributors,s=t.contributorsWithPermissions,n=t.contributorsWithoutPermissions,o=t.invitations,i=t.websiteOwner;this.setState(this.state.merge({basicAuthors:r,allContributors:a,contributorsWithPermissions:s,contributorsWithoutPermissions:n,isLoading:false,invitations:o,websiteOwner:i}))}},{key:"onResetFailure",value:function e(){this.setState(this.state.merge({isLoading:false,error:h("There was an error loading the data for this panel.")}))}},{key:"fetchAllPermissions",value:function e(){var t=this;var r=[];["basicAuthors","contributorsWithPermissions","contributorsWithoutPermissions","invitations"].forEach(function(e){t.state.get(e)&&(r=r.concat(t.state.get(e).toJS()))});return r}},{key:"fetchMembers",value:function e(){var t=this.state.get("basicAuthors",[]).toArray();var r=this.state.get("contributorsWithPermissions",[]).toArray();var a=this.state.get("websiteOwner",[]);var s=t.concat(r).concat(a);return s.map(function(e){return e.toObject()})}},{key:"fetchAllMembers",value:function e(){var t=this;var r=[];["basicAuthors","contributorsWithPermissions","contributorsWithoutPermissions","invitations","websiteOwner"].forEach(function(e){t.state.get(e)&&(r=r.concat(t.state.get(e).toJS()))});return r}}]);return e}();e.exports=p.createStore(d(v),"PermissionsStore")},"./src/main/webapp/universal/src/apps/App/shared/stores/ProfileModalStore.js":function(e,t,r){"use strict";var a=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var s=a(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=a(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=r("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var i=r("./common/temp/node_modules/immutable/dist/immutable.js"),l=i.List,u=i.fromJS;var c=r("./common/temp/node_modules/alt-utils/lib/ImmutableUtil.js");var p=r("./src/main/webapp/universal/src/apps/App/shared/actions/PermissionsActions.js");var m=r("./src/main/webapp/universal/src/apps/App/shared/actions/ProfileModalActions.js");var d={avatarAssetUrl:null,avatarId:null,bio:"",displayName:"",email:"",firstName:"",lastName:"",location:{},memberAccountId:"",siteSubscriptions:[],socialOptions:[],storeSubscriptions:[],websiteUrl:""};var f=function(){function e(){(0,s.default)(this,e);this.state=u({authors:[],authorIdMap:{none:Object.assign({},d)},currentlyOpenAuthorId:null,errors:{saveError:""},isRemoveAuthorOpen:false,isReviewChangesOpen:false,isDirty:false});this.bindActions(m);this.bindListeners({onResetPermissionsSuccess:p.resetSuccess,onSaveAuthorSuccess:[p.createAuthorSuccess,p.updateAuthorSuccess],onSaveAuthorFailure:[p.createAuthorFailure,p.updateAuthorFailure],onDeleteAuthorSuccess:p.deleteAuthorSuccess})}(0,n.default)(e,[{key:"onResetPermissionsSuccess",value:function e(t){var r=t.basicAuthors,a=t.websiteOwner,s=t.contributorsWithPermissions;var n=r.concat(s).concat([a]);this.setState(this.state.set("authors",l(n)));this.updateAuthorIdMap(n)}},{key:"onReset",value:function e(t){this.updateAuthorIdMap(t);this.setState(this.state.merge({isDirty:false,isReviewChangesOpen:false}))}},{key:"onFetchAvatar",value:function e(t){var r=t.authorId,a=t.value;this.setState(this.state.setIn(["authorIdMap",r,"avatarId"],a));this.setState(this.state.setIn(["authorIdMap",r,"avatarAssetUrl"],a))}},{key:"onUpdateValues",value:function e(t){var r=this.state.set("isDirty",true);r=r.setIn(["authorIdMap",t.id,t.key],t.value);this.setState(r)}},{key:"onUpdateAvatar",value:function e(t){var r=t.authorId,a=t.avatarId,s=t.avatarAssetUrl;var n=this.state.getIn(["authorIdMap",r,"avatarId"]);var o=this.state.get("isDirty");var i=this.state.set("isDirty",o||n!==a);i=i.setIn(["authorIdMap",r,"avatarId"],a);i=i.setIn(["authorIdMap",r,"avatarAssetUrl"],s);this.setState(i)}},{key:"onSetActiveProfileModal",value:function e(t){this.setState(this.state.set("currentlyOpenAuthorId",t))}},{key:"updateAuthorIdMap",value:function e(t){var r={none:Object.assign({},d)};t.forEach(function(e){r[e.id]=Object.assign({},d,e)});this.setState(this.state.set("authorIdMap",u(r)))}},{key:"onSaveAuthorSuccess",value:function e(t){this.setState(this.state.merge({errors:u({saveError:""}),currentlyOpenAuthorId:null,authorIdMap:this.state.get("authorIdMap").set(t.id,u(t)),authors:this.state.get("authors").push(u(t)),isDirty:false,isReviewChangesOpen:false}))}},{key:"onSaveAuthorFailure",value:function e(t){var r=this.state.get("errors");r=r.set("saveError",Object.values(t.errors)[0]);r=r.merge(t.errors);this.setState(this.state.set("errors",r))}},{key:"onOpenDeleteBasicAuthorConfirmation",value:function e(){this.setState(this.state.set("isRemoveAuthorOpen",true))}},{key:"onDeleteAuthorSuccess",value:function e(r){var t=this.state.get("authors").toJS().filter(function(e){var t=e.id;return t!==r});this.setState(this.state.merge({isDirty:false,isRemoveAuthorOpen:false,authors:u(t)}))}},{key:"onCancel",value:function e(){this.state.get("isDirty")?this.setState(this.state.set("isReviewChangesOpen",true)):this.setState(this.state.set("currentlyOpenAuthorId",null))}},{key:"onCloseReviewChanges",value:function e(){this.setState(this.state.set("isReviewChangesOpen",false))}},{key:"onCloseRemoveAuthor",value:function e(){this.setState(this.state.set("isRemoveAuthorOpen",false))}},{key:"onUpdateErrors",value:function e(t){var r=t.errors;this.setState(this.state.set("errors",u(r)))}},{key:"onClearErrorMessage",value:function e(t){this.setState(this.state.setIn(["errors",t],null))}}]);return e}();e.exports=o.createStore(c(f),"ProfileModalStore")},"./src/main/webapp/universal/src/shared/components/JobProcessingState/index.js":function(e,t,r){"use strict";var a=r("./common/temp/node_modules/alt-utils/lib/connectToStores.js");var u=r("./src/main/webapp/universal/src/shared/actions/JobActions.js");var c=r("./src/main/webapp/universal/src/shared/stores/JobStore.js");var s=r("./src/main/webapp/universal/src/shared/components/JobProcessingState/JobProcessingState.jsx");var n=a({getStores:function e(){return[c]},getPropsFromStores:function e(t){var r=t.jobId;var a=c.getState()[r],s=a.status,n=a.messages,o=a.data,i=a.cancelable;var l=function e(){return u.cancel(r)};return{status:s,messages:n,data:o,cancelable:i,requestCancel:l}}},s);e.exports=n},"./src/main/webapp/universal/src/shared/components/ReviewChangesConfirmation.jsx":function(e,t,r){"use strict";var a=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var s=a(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=a(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=a(r("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var i=a(r("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=a(r("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var u=a(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));function c(s){var n=p();return function e(){var t=(0,l.default)(s),r;if(n){var a=(0,l.default)(this).constructor;r=Reflect.construct(t,arguments,a)}else r=t.apply(this,arguments);return(0,i.default)(this,r)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var m=r("./common/temp/node_modules/prop-types/index.js");var d=r("./common/temp/node_modules/react/index.js");var f=r("./src/main/webapp/universal/src/shared/i18n/react.ts"),h=f.T;var v=r("./src/main/webapp/universal/src/shared/components/Modal/index.jsx");var b=r("./src/main/webapp/universal/src/shared/components/ReviewChangesConfirmation.less");var A=function(e){(0,o.default)(r,e);var t=c(r);function r(){(0,s.default)(this,r);return t.apply(this,arguments)}(0,n.default)(r,[{key:"render",value:function e(){var t=this.props,r=t.isOpen,a=t.onCancel,s=t.onDiscard,n=t.onSave;return d.createElement(v,{anchor:"mousepointer",isOpen:r,className:b.modal},d.createElement(v.Header,null,d.createElement(h,{project:"src.shared"},"Review Changes")),d.createElement(v.Body,{className:b.body},d.createElement(h,{project:"src.shared"},"You have made changes. Do you want to save or discard them?")),d.createElement(v.Footer,null,d.createElement(v.Button,{onClick:a},d.createElement(h,{project:"src.shared"},"Cancel")),d.createElement(v.Button,{onClick:s},d.createElement(h,{project:"src.shared"},"Discard")),d.createElement(v.Button,{onClick:n},d.createElement(h,{project:"src.shared"},"Save"))))}}]);return r}(d.Component);(0,u.default)(A,"propTypes",{isOpen:m.bool,onCancel:m.func,onDiscard:m.func,onSave:m.func});e.exports=A},"./src/main/webapp/universal/src/shared/components/ReviewChangesConfirmation.less":function(e,t,r){e.exports={modal:"ReviewChangesConfirmation-modal-23K7p",body:"ReviewChangesConfirmation-body-3DGwm"}},"./src/main/webapp/universal/src/shared/components/fields/TextEditor/TextEditor.js":function(e,t,r){"use strict";var a=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=a(r("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=a(r("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=a(r("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var l=a(r("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var u=a(r("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=a(r("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=a(r("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var A=a(r("./common/temp/node_modules/react/index.js"));var s=a(r("./common/temp/node_modules/prop-types/index.js"));var y=r("./common/temp/node_modules/@sqs/fields/lib/index.js");var g=a(r("./common/temp/node_modules/@sqs/core-components/fields/RichTextEditor.js"));var m=r("./common/temp/node_modules/@sqs/core-components/components/Rte.js");var d=r("./src/main/webapp/universal/src/shared/i18n/index.ts");var j=r("./src/main/webapp/universal/src/shared/constants/TextEditor.js");var S=r("./src/main/webapp/universal/src/shared/constants/LayoutEngineClassnames.js");function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,a)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),true).forEach(function(e){(0,p.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function h(s){var n=v();return function e(){var t=(0,c.default)(s),r;if(n){var a=(0,c.default)(this).constructor;r=Reflect.construct(t,arguments,a)}else r=t.apply(this,arguments);return(0,u.default)(this,r)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var b=5e5;var O=function(e){(0,l.default)(s,e);var a=h(s);function s(){var o;(0,n.default)(this,s);for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o=a.call.apply(a,[this].concat(t));(0,p.default)((0,i.default)(o),"domParser",new DOMParser);(0,p.default)((0,i.default)(o),"stopPropagation",function(e){e.stopPropagation()});(0,p.default)((0,i.default)(o),"handleChange",function(e){var t=o.props,r=t.onChange,a=t.isNullable;var s=e;if(a)try{var n=o.domParser.parseFromString(e,"text/html");n.body.innerText||(s=null)}catch(e){}return r(s)});return o}(0,o.default)(s,[{key:"render",value:function e(){var t=this.props,r=t.className,a=t.color,s=t.decodeHTMLEntities,n=t.errorMessage,o=t.flush,i=t.label,l=t.height,u=t.placeholder,c=t.preserveWhitespace,p=t.showSeparator,m=t.tabIndex,d=t.toolbarOptions,f=t.itemEditorZIndex,h=t.type,v=t.value;var b=j.Schemas[h];"boolean"===typeof c&&(b=C({},b,{preserveWhitespace:[c]}));return A.default.createElement(y.FieldWrapper,{errorMessage:n},A.default.createElement(g.default,{className:r,color:a,decodeHTMLEntities:s,fieldIndex:m,label:i,flush:o,height:l,onChange:this.handleChange,onMouseDown:this.stopPropagation,onPointerDown:this.stopPropagation,onClick:this.stopPropagation,pasteAsPlainText:false,placeholder:u,schemaConfig:b,showSeparator:p,toolbarOptions:d,toolbarClassName:S.NONINTERACTIVE_CLASSNAME,itemEditorZIndex:f,value:v,itemConfigEditorProps:{onClick:this.stopPropagation,className:S.NONINTERACTIVE_CLASSNAME,modalClassName:S.NONINTERACTIVE_CLASSNAME,pageDropdownClassName:S.NONINTERACTIVE_CLASSNAME}}))}}]);return s}(A.default.Component);(0,p.default)(O,"propTypes",{className:s.default.string,color:s.default.string,decodeHTMLEntities:s.default.bool,isNullable:s.default.bool,itemEditorZIndex:s.default.number,flush:s.default.bool,onChange:s.default.func.isRequired,placeholder:s.default.string,preserveWhitespace:s.default.bool,showSeparator:s.default.bool,type:s.default.oneOf(Object.values(j.SchemaTypes)),toolbarOptions:s.default.array,value:s.default.oneOfType([s.default.string,s.default.object])});(0,p.default)(O,"defaultProps",{color:"dark",flush:true,itemEditorZIndex:b,placeholder:(0,d.t)("Write here…"),showSeparator:true,toolbarOptions:m.DEFAULT_TOOLBAR_TYPES.SIMPLE,type:j.Schemas[j.SchemaTypes.SIMPLE]});var w=O;t.default=w;e.exports=t.default},"./src/main/webapp/universal/src/shared/components/fields/TextEditor/index.js":function(e,t,r){"use strict";var a=r("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"default",{enumerable:true,get:function e(){return s.default}});var s=a(r("./src/main/webapp/universal/src/shared/components/fields/TextEditor/TextEditor.js"));e.exports=t.default},"./src/main/webapp/universal/src/shared/constants/LayoutEngineClassnames.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TEXT_BLOCK=t.NONINTERACTIVE_CLASSNAME=t.NONINTERACTIVE_CLASSNAMES=t.DISABLE_DRAG_SELECTION_CLASSNAME=t.ESCMANAGER_IGNORE_CLASSNAME=t.BLOCK_FOCUS_IGNORE_CLASSNAME=void 0;var a="sqs-prevent-block-focus-change";t.BLOCK_FOCUS_IGNORE_CLASSNAME=a;var s="escmanager-ignore";t.ESCMANAGER_IGNORE_CLASSNAME=s;var n="sqs-disable-drag-selection";t.DISABLE_DRAG_SELECTION_CLASSNAME=n;var o=[a,s,n];t.NONINTERACTIVE_CLASSNAMES=o;var i=o.join(" ");t.NONINTERACTIVE_CLASSNAME=i;var l="sqs-block-html";t.TEXT_BLOCK=l},"./src/main/webapp/universal/src/shared/utils/validation/urlValidator.js":function(e,t,r){"use strict";e.exports=function e(t){var r=/^(https?:)(\/\/)[a-zA-Z0-9][a-zA-Z0-9_\-\.]*\.[a-zA-Z]{2,24}(\/\S*)?$/i;return t.search(r)>-1}}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/43-19d6edaaf9e9b036fbb3d-min.en-US.js.map