(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([["async-content-browser-portfolio-panel"],{"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/bundles/portfolio/components/PortfolioPanel.js":function(e,t,n){"use strict";var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var P=r(n("./common/temp/node_modules/react/index.js"));var o=r(n("./common/temp/node_modules/prop-types/index.js"));var E=r(n("./common/temp/node_modules/lodash/isEmpty.js"));var M=r(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/bundles/portfolio/components/PortfolioSummary.js"));var D=r(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/bundles/portfolio/isPortfolio.js"));var O=r(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/bundles/portfolioItem/components/PortfolioItem.js"));var k=r(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/hooks/useMultiItemSelect.js"));var T=r(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/ReorderableList.js"));var L=r(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/bundles/portfolio/components/PortfolioPanel.less"));var W=n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/externals.js");var s=r(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/hoc/withPanelContext.js"));var F=r(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/LoadingSpinner.js"));var N=n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/constants/LoadingStates.js");var a=n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/store/actions/items.js");var l=n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/store/selectors.js");var i=n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/store/index.js");var z=r(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/MultiSelectActionMenu.js"));var u=function e(t){var n;var i=t.collection,r=t.collections,u=t.items,o=t.itemsInCollection,s=t.location,a=t.onCollectionLimit,l=t.onGoToCollection,c=t.onReorderItems,d=t.onRequestItemAdd,m=t.onRequestItemCopy,p=t.onRequestItemDelete,f=t.onRequestItemEdit,v=t.onRequestItemsDelete,b=t.onRequestSettingsModal,h=t.onSelectItem;var C=u.findIndex(function(e){return"/".concat(i.urlId,"/").concat(e.urlId)===s.state.frameUrl});var j=u[C];var w=(0,k.default)(j,u,l,h),I=w.allSelectedItemIds,R=w.areAllItemsSelected,y=w.getIsItemSelected,q=w.hasMultipleSelections,g=w.handleSelectItem,_=w.toggleSelectAll;var S=[N.UNLOADED,N.LOADING].includes(null===(n=r[i.id])||void 0===n?void 0:n.loadingState);var A=function e(t){t.preventDefault();t.stopPropagation();_(t)};var x=function e(t){return c(t).then(function(){return W.FrameActions.refresh()})};var B=function e(t){var n=t.index,r=t.key,o=t.style,s=t.isPreview,a=t.isReorderingList;var l=u[n];return P.default.createElement("div",{key:r,style:o},P.default.createElement(O.default,{key:l.id,collection:i,contentItem:l,selectedIndex:C,isSelected:y(l),isReorderingList:a,isPreview:s,index:n,onRequestItemDelete:p,onRequestItemEdit:f,onClickItem:g}))};return P.default.createElement(P.default.Fragment,null,P.default.createElement(M.default,{collection:i,itemsInCollection:o,onCollectionLimit:a,onRequestItemAdd:d,onRequestItemCopy:m,onRequestSettingsModal:b,onGoToCollection:l}),S?P.default.createElement(F.default,null):(0,E.default)(u)?P.default.createElement("section",{className:L.default.emptyMessageWrapper},P.default.createElement(W.T,{project:"apps.ContentBrowser"},"No Pages"),P.default.createElement(W.T,{project:"apps.ContentBrowser"},"Click + to add a page.")):P.default.createElement(P.default.Fragment,null,P.default.createElement(T.default,{items:u,onReorderItems:x,renderItem:B}),q&&P.default.createElement(z.default,{allSelectedItemIds:I,areAllItemsSelected:R,currentCollectionId:i.id,destinationCollectionsFilter:D.default,onRequestItemsDelete:v,onToggleSelectAll:A})))};u.propTypes={collection:o.default.object.isRequired,items:o.default.array.isRequired,itemsInCollection:o.default.number.isRequired,location:o.default.shape({state:o.default.shape({frameUrl:o.default.string.isRequired}).isRequired}).isRequired,onCollectionLimit:o.default.func.isRequired,onGoToCollection:o.default.func.isRequired,onReorderItems:o.default.func.isRequired,onRequestItemAdd:o.default.func.isRequired,onRequestItemCopy:o.default.func.isRequired,onRequestItemDelete:o.default.func.isRequired,onRequestItemEdit:o.default.func.isRequired,onRequestItemsDelete:o.default.func.isRequired,onRequestSettingsModal:o.default.func.isRequired,onSelectItem:o.default.func.isRequired,collections:o.default.object.isRequired};var c=(0,i.connect)(function(e,t){return{collections:(0,l.getCollections)(e)}},{onReorderItems:a.reorderItems})((0,W.withRouter)((0,s.default)(u)));t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/bundles/portfolio/components/PortfolioPanel.less":function(e,t,n){e.exports={emptyMessageWrapper:"PortfolioPanel-emptyMessageWrapper-3SkP5"}},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/bundles/portfolio/components/PortfolioSummary.js":function(e,t,n){"use strict";var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var o=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=o(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var l=o(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=o(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var u=o(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var c=o(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var d=o(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var m=o(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var p=o(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var f=r(n("./common/temp/node_modules/react/index.js"));var s=o(n("./common/temp/node_modules/prop-types/index.js"));var v=o(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/CollectionSummary.js"));var b=n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/externals.js");var h=n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/utils/ContentServiceAPI.js");function C(o){var s=j();return function e(){var t=(0,m.default)(o),n;if(s){var r=(0,m.default)(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return(0,d.default)(this,n)}}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var w=function(e){(0,c.default)(s,e);var r=C(s);function s(){var o;(0,l.default)(this,s);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o=r.call.apply(r,[this].concat(t));(0,p.default)((0,u.default)(o),"handleCatalogSelection",function(e){var t=o.props,n=t.onRequestItemAdd,r=t.onRequestItemCopy;e?r(e):n("portfolio_item")});(0,p.default)((0,u.default)(o),"openItemCatalog",function(){var t=o.props.collection;if(o.isOpeningItemCatalog)return;o.isOpeningItemCatalog=true;(0,b.ensureContentModeController)().then(function(e){e.showItemCatalog(o.handleCatalogSelection);b.CMSV7Events.openItemCatalog(t.typeName,t.id);o.isOpeningItemCatalog=false}).catch(function(e){console.error("Error showing Item Catalog");console.error(e)})});(0,p.default)((0,u.default)(o),"isPortfolioFull",function(){var e=o.props,t=e.itemsInCollection,n=e.collection;return t>=h.TYPE_TO_ITEMS_LIMIT[n.entityType]});(0,p.default)((0,u.default)(o),"addItemRequested",function(){var e=o.props,t=e.collection,n=e.onCollectionLimit;o.isPortfolioFull()?n({typeName:t.typeName,id:t.collectionId,title:(0,b.t)("Portfolio Item Limit"),message:(0,b.t)("You can’t add more items to this portfolio.")}):o.openItemCatalog()});return o}(0,i.default)(s,[{key:"render",value:function e(){return f.default.createElement(v.default,(0,a.default)({},this.props,{onRequestItemAdd:this.addItemRequested}))}}]);return s}(f.Component);(0,p.default)(w,"propTypes",{collection:s.default.object.isRequired,itemsInCollection:s.default.number.isRequired,onCollectionLimit:s.default.func.isRequired,onGoToCollection:s.default.func.isRequired,onRequestItemAdd:s.default.func.isRequired,onRequestItemCopy:s.default.func.isRequired,onRequestSettingsModal:s.default.func.isRequired});var I=w;t.default=I;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/bundles/portfolioItem/components/PortfolioItem.js":function(e,t,n){"use strict";var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var o=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var a=o(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var l=o(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=o(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=o(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var c=o(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var d=o(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var m=o(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var p=o(n("./common/temp/node_modules/lodash/get.js"));var s=o(n("./common/temp/node_modules/prop-types/index.js"));var f=n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/externals.js");var v=r(n("./common/temp/node_modules/react/index.js"));var b=o(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/ReorderableListItem.js"));function h(o){var s=C();return function e(){var t=(0,d.default)(o),n;if(s){var r=(0,d.default)(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return(0,c.default)(this,n)}}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var j=function(e){(0,u.default)(s,e);var r=h(s);function s(){var o;(0,a.default)(this,s);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o=r.call.apply(r,[this].concat(t));(0,m.default)((0,i.default)(o),"removeCollectionItem",function(e){var t=o.props,n=t.contentItem,r=t.onRequestItemDelete;r(n)});(0,m.default)((0,i.default)(o),"openSettings",function(e){var t=o.props,n=t.contentItem,r=t.onRequestItemEdit;r(n)});(0,m.default)((0,i.default)(o),"getThumbnailUrl",function(){var e=o.props.contentItem;if(!e.thumbnailImage)return;var t=(0,p.default)(e.thumbnailImage,"assetUrls[0].url");return t?"".concat(t,"?format=100w"):void 0});return o}(0,l.default)(s,[{key:"render",value:function e(){var t=this.props,n=t.contentItem,r=t.isReorderingList,o=t.isPreview,s=t.isSelected,a=t.onClickItem,l=t.index,i=t.selectedIndex;return v.default.createElement(b.default,{label:n.title,onClick:function e(t){return a(t,n)},isBeforeSelected:l+1===i,index:l,isPreview:o,isReorderingList:r,isSelected:s,thumbnailUrl:this.getThumbnailUrl(),"data-test":"portfolio-item",actions:[{label:(0,f.t)("Settings"),onClick:this.openSettings,"data-test":"portfolio-item-settings",variant:"tertiary"},{label:(0,f.t)("Delete"),onClick:this.removeCollectionItem,"data-test":"portfolio-item-delete",variant:"danger"}]})}}]);return s}(v.Component);t.default=j;(0,m.default)(j,"propTypes",{collection:s.default.shape({urlId:s.default.string.isRequired}).isRequired,contentItem:s.default.shape({id:s.default.string.isRequired,parentCollectionId:s.default.string.isRequired,title:s.default.string,urlId:s.default.string.isRequired}).isRequired,index:s.default.number.isRequired,isPreview:s.default.bool,isReorderingList:s.default.bool,isSelected:s.default.bool,onRequestItemDelete:s.default.func.isRequired,onRequestItemEdit:s.default.func.isRequired,onClickItem:s.default.func.isRequired,selectedIndex:s.default.number});e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/CollectionSummary.js":function(e,t,n){"use strict";var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var o=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=o(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var a=o(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var l=o(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var i=o(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var u=o(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=o(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=o(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var m=r(n("./common/temp/node_modules/react/index.js"));var p=o(n("./common/temp/node_modules/prop-types/index.js"));var f=n("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/index.js");var v=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var b=o(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/CollectionSummary.less"));var h=o(n("./common/temp/node_modules/classnames/index.js"));var C=n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/externals.js");function j(o){var s=w();return function e(){var t=(0,c.default)(o),n;if(s){var r=(0,c.default)(this).constructor;n=Reflect.construct(t,arguments,r)}else n=t.apply(this,arguments);return(0,u.default)(this,n)}}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}var I=function(e){(0,i.default)(n,e);var t=j(n);function n(e){var r;(0,s.default)(this,n);r=t.call(this,e);(0,d.default)((0,l.default)(r),"handleCollectionSettingsModal",function(){var e=r.props,t=e.onRequestSettingsModal,n=e.collection;t();C.CMSV7EventsCollectionHelpers.clickCollectionSettingsGear(n.id,"panel")});(0,d.default)((0,l.default)(r),"handleAddItemButtonClick",function(){var e=r.props,t=e.onRequestItemAdd,n=e.collection;t();C.CMSV7EventsCollectionHelpers.clickButtonToAddContentItemFromPanel(n.id)});return r}(0,a.default)(n,[{key:"render",value:function e(){var t=this.props,n=t.onGoToCollection,r=t.isDemoCollection,o=t.className,s=t.overrideNavTitle,a=t.collection;var l=s||a.navigationTitle;var i=(0,h.default)(b.default.title,o,(0,d.default)({},b.default.clickable,n));return m.default.createElement("div",{className:b.default.titleContainer},m.default.createElement(v.Text.Title,{className:i,onClick:n,pt:1},l),!r&&m.default.createElement("div",{className:b.default.actions},m.default.createElement(C.IconButton,{onClick:this.handleCollectionSettingsModal,"aria-label":(0,C.t)("Settings"),tabIndex:0},m.default.createElement(f.Settings,{"data-test":"header-settings-icon"})),m.default.createElement(C.IconButton,{onClick:this.handleAddItemButtonClick,"aria-label":(0,C.t)("Add"),tabIndex:0},m.default.createElement(f.Plus,{"data-test":"header-add-icon"}))))}}]);return n}(m.Component);(0,d.default)(I,"propTypes",{collection:p.default.object.isRequired,onRequestItemAdd:p.default.func.isRequired,onRequestSettingsModal:p.default.func.isRequired,onGoToCollection:p.default.func.isRequired,isDemoCollection:p.default.bool});var R=I;t.default=R;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/CollectionSummary.less":function(e,t,n){e.exports={titleContainer:"CollectionSummary-titleContainer-3oH9z",title:"CollectionSummary-title-1uTtj",clickable:"CollectionSummary-clickable-1TIYZ",actions:"CollectionSummary-actions-1qzSS",titleFieldWrapper:"CollectionSummary-titleFieldWrapper-2l8ZU"}},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/ModalWrapper.js":function(e,t,n){"use strict";var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var p=r(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var f=r(n("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var v=r(n("./common/temp/node_modules/react/index.js"));var b=n("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var h=function e(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0};var C=230;var j={closeOnEsc:true,closeOnOverlayClicked:true};var w={position:"center"};var I=b.Modal.Transition,R=b.Modal.Overlay,y=b.Modal.Position;var o=function e(t){var n=t.onRequestClose,r=t.isOpen,o=t.positionProps,s=void 0===o?w:o,a=t.transitionDuration,l=void 0===a?C:a,i=t.modalProps,u=void 0===i?j:i,c=t.onTransitionEnd,d=void 0===c?function(){return null}:c,m=(0,f.default)(t,["onRequestClose","isOpen","positionProps","transitionDuration","modalProps","onTransitionEnd"]);return v.default.createElement(I,{duration:l,onTransitionEnd:d},r&&v.default.createElement(b.Modal,(0,p.default)({onRequestClose:function e(t){t&&"esc"===t.source&&t.event.stopImmediatePropagation();n(t)},lockFocus:!h()},u),v.default.createElement(R,null),v.default.createElement(y,s,m.children)))};t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/MoveItemsModal.js":function(e,t,n){"use strict";var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var o=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var w=o(n("./common/temp/node_modules/@babel/runtime/regenerator/index.js"));var I=o(n("./common/temp/node_modules/@babel/runtime/helpers/asyncToGenerator.js"));var R=o(n("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var y=r(n("./common/temp/node_modules/react/index.js"));var q=n("./common/temp/node_modules/@sqs/rosetta-compositions/build/lib/index.js");var s=n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/store/index.js");var g=o(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/ModalWrapper.js"));var _=o(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/Selectable.js"));var S=n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/utils/collectionAPIUtils.js");var a=n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/store/selectors.js");var l=n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/store/actions/items.js");var A=n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/externals.js");var i=function e(t){var n=t.collections,r=t.confirmButtonLabel,o=t.currentCollectionId,s=t.items,a=t.destinationCollectionsFilter,l=t.onMoveItems,i=t.isOpen,u=t.onRequestClose;var c=(0,y.useState)([]),d=(0,R.default)(c,2),m=d[0],p=d[1];var f=(0,y.useState)(),v=(0,R.default)(f,2),b=v[0],h=v[1];(0,y.useEffect)(function(){p(Object.values(n).filter(function(e){return a(e)&&!(0,S.isDemoCollection)(e.id)&&e.id!==o}))},[n,o,a]);if(!m.length)return null;var C=function(){var t=(0,I.default)(w.default.mark(function e(){return w.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return l(b,s);case 2:u();case 3:case"end":return t.stop()}},e)}));return function e(){return t.apply(this,arguments)}}();var j=function e(){return m.map(function(t){return y.default.createElement(_.default,{key:t.id,label:t.title,onChange:function e(){return h(t.id)},value:b===t.id})})};return y.default.createElement(g.default,{isOpen:i,onRequestClose:u},y.default.createElement(q.AlertDialog,{title:(0,A.t)("Select Destination Collection"),message:j(),buttons:[function(){return y.default.createElement(q.AlertDialog.Button,{onClick:u,key:"close"},(0,A.t)("Close"))},function(){return y.default.createElement(q.AlertDialog.Button,{onClick:C,key:"save",disabled:!b},r)}]}))};var u=(0,s.connect)(function(e){return{collections:(0,a.getAllCollections)(e)}},{onMoveItems:l.moveItems})(i);t.default=u;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/MultiSelectActionMenu.js":function(e,t,n){"use strict";var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var o=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var f=o(n("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var v=r(n("./common/temp/node_modules/react/index.js"));var s=o(n("./common/temp/node_modules/prop-types/index.js"));var b=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var h=n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/externals.js");var C=o(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/MultiSelectActionMenu.less"));var j=o(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/MoveItemsModal.js"));var a=function e(t){var n=t.allSelectedItemIds,r=t.areAllItemsSelected,o=t.confirmButtonLabel,s=t.currentCollectionId,a=t.destinationCollectionsFilter,l=t.onRequestItemsDelete,i=t.onToggleSelectAll,u=t.showMoveButton;var c=(0,v.useState)(false),d=(0,f.default)(c,2),m=d[0],p=d[1];return v.default.createElement("div",{className:C.default.actionButtonsWrapper},v.default.createElement("div",{className:C.default.actionButtons},v.default.createElement(b.Button,{variant:"secondary",size:2,onClick:i,borderStyle:"none"},r?(0,h.t)("Deselect"):(0,h.t)("Select All")),u&&v.default.createElement(v.default.Fragment,null,v.default.createElement(b.Button,{variant:"secondary",size:2,onClick:function e(){return p(true)},borderStyle:"none"},(0,h.t)("Move…")),v.default.createElement(j.default,{isOpen:m,onRequestClose:function e(){return p(false)},items:n,currentCollectionId:s,destinationCollectionsFilter:a,confirmButtonLabel:o})),v.default.createElement(b.Button,{size:2,color:"red",borderStyle:"none",variant:"secondary",onClick:function e(){return l(n)}},(0,h.t)("Delete"))))};a.propTypes={allSelectedItemIds:s.default.arrayOf(s.default.string).isRequired,areAllItemsSelected:s.default.bool,confirmButtonLabel:s.default.string,currentCollectionId:s.default.string,destinationCollectionsFilter:s.default.func,onRequestItemsDelete:s.default.func.isRequired,onToggleSelectAll:s.default.func.isRequired,showMoveButton:s.default.bool};var l=a;t.default=l;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/MultiSelectActionMenu.less":function(e,t,n){e.exports={actionButtonsWrapper:"MultiSelectActionMenu-actionButtonsWrapper-6AXqY",actionButtons:"MultiSelectActionMenu-actionButtons-2dBpV"}},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/ReorderableList.js":function(e,t,n){"use strict";var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var o=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var f=o(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var s=o(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var v=o(n("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var b=o(n("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var h=r(n("./common/temp/node_modules/react/index.js"));var a=n("./common/temp/node_modules/@sqs/react-sortable-hoc/dist/react-sortable-hoc.umd.js");var C=n("./common/temp/node_modules/react-virtualized/dist/es/index.js");var j=n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/externals.js");var w=o(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/VirtualizedList.less"));function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),true).forEach(function(e){(0,s.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var R=(0,a.SortableContainer)(C.List);var i=function e(t){var r=t.items,o=t.onReorderItems,s=t.renderItem,a=(0,b.default)(t,["items","onReorderItems","renderItem"]);var n=(0,h.useState)(r),l=(0,v.default)(n,2),i=l[0],u=l[1];(0,h.useEffect)(function(){u(r)},[r]);var c=(0,h.useState)(null),d=(0,v.default)(c,2),m=d[0],p=d[1];return h.default.createElement("div",{className:w.default.listWrapper},h.default.createElement(C.AutoSizer,null,function(e){var t=e.height,n=e.width;return h.default.createElement(R,(0,f.default)({height:t,width:n,rowCount:r.length,distance:5,className:w.default.list,rowRenderer:function e(t){var n=t.index,r=(0,b.default)(t,["index"]);return s(I({index:n},r,{isReorderingList:null!==m,isPreview:m===n}))},rowHeight:67,lockAxis:"y",updateBeforeSortStart:function e(t){var n=t.index;return p(n)},onSortStart:function e(){document.body.style.cursor="grabbing"},onSortEnd:function e(t){var n=t.oldIndex,r=t.newIndex;p(null);u((0,j.reorderArray)(i,n,r));o({oldIndex:n,newIndex:r});document.body.style.cursor=""}},a))}))};var u=i;t.default=u;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/ReorderableListItem.js":function(e,t,n){"use strict";var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=r(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var s=r(n("./common/temp/node_modules/react/index.js"));var a=r(n("./common/temp/node_modules/prop-types/index.js"));var l=n("./common/temp/node_modules/@sqs/react-sortable-hoc/dist/react-sortable-hoc.umd.js");var i=r(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/ListItem.js"));var u=function e(t){return s.default.createElement(i.default,(0,o.default)({isReorderable:true},t))};u.propTypes={isBeforeSelected:a.default.bool,index:a.default.number.isRequired,isPreview:a.default.bool,isReorderingList:a.default.bool.isRequired,isSelected:a.default.bool};var c=(0,l.SortableElement)(u);t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/Selectable.js":function(e,t,n){"use strict";var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var l=r(n("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var i=r(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var u=r(n("./common/temp/node_modules/react/index.js"));var o=n("./common/temp/node_modules/@sqs/rosetta-utilities/build/lib/index.js");var s=n("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var c=n("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/index.js");var a=(0,o.withFocusManagedDivider)(s.Cell,s.Divider);var d=function e(t){return u.default.createElement(a,(0,i.default)({as:"label"},t))};var m=function e(t){var n=t.disabled,r=t.onChange,o=t.value;return u.default.createElement("input",{type:"checkbox",checked:o,disabled:n,onChange:r,value:o,style:{position:"absolute",opacity:0}})};var p=function e(t){var n=t.css,r=t.isDisabled,o=t.onChange,s=t.value,a=(0,l.default)(t,["css","isDisabled","onChange","value"]);return u.default.createElement(d,(0,i.default)({isDisabled:r,exteriorAccessory:u.default.createElement(u.default.Fragment,null,s&&u.default.createElement(c.Checkmark,{color:r&&"gray.600"}),u.default.createElement(m,{onChange:o,disabled:r,value:s}))},a))};var f=p;t.default=f;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/components/VirtualizedList.less":function(e,t,n){e.exports={listWrapper:"VirtualizedList-listWrapper-2cINs",list:"VirtualizedList-list-Kh-jW"}},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/context/ContentBrowserPanelContext.js":function(e,t,n){"use strict";var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:true});t.PanelProvider=t.default=void 0;var u=r(n("./common/temp/node_modules/react/index.js"));var c=(0,u.createContext)();var o=c;t.default=o;var s=(0,u.memo)(function(e){var t=e.children,n=e.onRequestItemEdit,r=e.onRequestItemDelete,o=e.onSelectItem,s=e.onLoadItemsForCollection,a=e.onRequestItemsDelete,l=e.hasDeletedItems,i=e.onDuplicateItem;return u.default.createElement(c.Provider,{value:{onRequestItemEdit:n,onRequestItemDelete:r,onSelectItem:o,onLoadItemsForCollection:s,onRequestItemsDelete:a,hasDeletedItems:l,onDuplicateItem:i}},t)});t.PanelProvider=s},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/hoc/withPanelContext.js":function(e,t,n){"use strict";var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=r(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var s=r(n("./common/temp/node_modules/react/index.js"));var a=r(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/context/ContentBrowserPanelContext.js"));var l=n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/externals.js");function i(n){var e=function e(t){return s.default.createElement(a.default.Consumer,null,function(e){return s.default.createElement(n,(0,o.default)({},t,e))})};e.displayName="withPanelContext(".concat((0,l.getDisplayName)(n),")");return e}var u=i;t.default=u;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/shared/hooks/useMultiItemSelect.js":function(e,t,n){"use strict";var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=o;var b=r(n("./common/temp/node_modules/@babel/runtime/helpers/toConsumableArray.js"));var h=r(n("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var C=r(n("./common/temp/node_modules/lodash/keyBy.js"));var j=n("./common/temp/node_modules/react/index.js");function o(n,a,r,l){var e=(0,j.useState)(new Set),t=(0,h.default)(e,2),o=t[0],i=t[1];var s=a.map(function(e){return e.id}).filter(function(e){return o.has(e)||e===(null===n||void 0===n?void 0:n.id)});var u=n&&a.length===o.size;var c=o.size>0;var d=function e(t){return t.id===(null===n||void 0===n?void 0:n.id)||o.has(t.id)};(0,j.useEffect)(function(){n||i(new Set)},[n]);(0,j.useEffect)(function(){var t=(0,C.default)(a,"id");i(function(e){return new Set((0,b.default)(e).filter(function(e){return t[e]}))})},[a]);var m=(0,j.useCallback)(function(t){if(o.has(t.id)){if(o.size<=1){r();return}if(t.id===(null===n||void 0===n?void 0:n.id)){var e=a.find(function(e){return o.has(e.id)&&e.id!==t.id});l(e)}i(new Set((0,b.default)(o).filter(function(e){return e!==t.id})));return}i(new Set([].concat((0,b.default)(o),[t.id])))},[o,r,a,n,l]);var p=(0,j.useCallback)(function(e){var r=e.id;var o=null===n||void 0===n?void 0:n.id;n||l(e);if(o===r){i(new Set([o]));return}var s=!o;i(a.reduce(function(e,t){var n=t.id;if(o===n)s=!s;else if(n===r){s=!s;o&&e.add(n)}else s&&e.add(n);return e},new Set))},[a,n,l]);var f=(0,j.useCallback)(function(e,t){if(e.ctrlKey||e.metaKey){m(t);return}if(e.shiftKey){p(t);return}i(new Set);l(t)},[m,p,i,l]);var v=(0,j.useCallback)(function(e){if(u){i(new Set);r()}else i(new Set(a.map(function(e){var t=e.id;return t})))},[u,i,a,r]);return{additionalSelectedIds:o,allSelectedItemIds:s,areAllItemsSelected:u,getIsItemSelected:d,hasMultipleSelections:c,handleSelectItem:f,toggleSelectAll:v}}e.exports=t.default}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/async-content-browser-portfolio-panel-a0038b71cd1a4c6fd8b51-min.en-US.js.map